<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Language" content="en" />
<title>the popup system should be done - dotfiles - Small loan of configuration files.
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dotfiles.git Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>dotfiles</h1><span class="desc">Small loan of configuration files.
</span></td></tr><tr class="url"><td></td><td>git clone <a href="git://thetudor.ddns.net/dotfiles.git">git://thetudor.ddns.net/dotfiles.git</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/.gitmodules.html">Submodules</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/f290350263767448c22a310220e05ec2f472a7f4.html">f290350263767448c22a310220e05ec2f472a7f4</a>
<b>parent</b> <a href="../commit/dac3ae7d6d6ea7313d17e5ffc517c6af04e001d0.html">dac3ae7d6d6ea7313d17e5ffc517c6af04e001d0</a>
<b>Author:</b> Tudor &lt;<a href="mailto:xenogenesis@openmailbox.org">xenogenesis@openmailbox.org</a>&gt;
<b>Date:</b>   Wed Jul 20 14:55:18 +0300

the popup system should be done

<b>Diffstat:</b>
<table><tr><td><a href="#h0">compton/.compton.conf</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td><a href="#h1">ncmpcpp/.ncmpcpp/config</a></td><td> | </td><td class="num">1</td><td><span class="i"></span><span class="d">-</span></td></tr>
<tr><td><a href="#h2">scripts/.scripts/notifyd-old</a></td><td> | </td><td class="num">46</td><td><span class="i"></span><span class="d">----------------------------------------------</span></td></tr>
<tr><td><a href="#h3">scripts/.scripts/notifyd_old</a></td><td> | </td><td class="num">46</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td><a href="#h4">scripts/.scripts/vol</a></td><td> | </td><td class="num">42</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td><a href="#h5">shell/.shell.d/alias.sh</a></td><td> | </td><td class="num">4</td><td><span class="i">++++</span><span class="d"></span></td></tr>
<tr><td><a href="#h6">wmrc/.config/sxhkd/commons</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td><a href="#h7">wmrc/.scripts/notifyd</a></td><td> | </td><td class="num">43</td><td><span class="i">++++++++++++++++++++++++++</span><span class="d">-----------------</span></td></tr>
<tr><td><a href="#h8">wmrc/.scripts/notifyd-musicd</a></td><td> | </td><td class="num">19</td><td><span class="i">+++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td><a href="#h9">wmrc/.scripts/panelsrc</a></td><td> | </td><td class="num">3</td><td><span class="i">++</span><span class="d">-</span></td></tr>
<tr><td><a href="#h10">wmrc/.scripts/popup</a></td><td> | </td><td class="num">7</td><td><span class="i">++++</span><span class="d">---</span></td></tr>
<tr><td><a href="#h11">x/.xinitrc</a></td><td> | </td><td class="num">3</td><td><span class="i">+++</span><span class="d"></span></td></tr>
<tr><td><a href="#h12">x/.xres/urxvt</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
</table>13 files changed, 151 insertions(+), 73 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/compton/.compton.conf.html">compton/.compton.conf</a> b/<a href="../file/compton/.compton.conf.html">compton/.compton.conf</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -44,7 +44,7 @@ blur-background-exclude = [
</a> 
 # Fading
 fading = true;
<a href="#h0-0-3" id="h0-0-3" class="d">-# fade-delta = 30;
</a><a href="#h0-0-4" id="h0-0-4" class="i">+fade-delta = 10;
</a> fade-in-step = 0.18;
 fade-out-step = 0.18;
 # no-fading-openclose = true;
<b>diff --git a/<a id="h1" href="../file/ncmpcpp/.ncmpcpp/config.html">ncmpcpp/.ncmpcpp/config</a> b/<a href="../file/ncmpcpp/.ncmpcpp/config.html">ncmpcpp/.ncmpcpp/config</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -33,7 +33,6 @@ visualizer_look = &quot;▋▋&quot;
</a> # Misc
 display_bitrate = &quot;no&quot;
 enable_window_title = &quot;no&quot;
<a href="#h1-0-3" id="h1-0-3" class="d">-execute_on_song_change=&quot;echo $(mpc current) &gt; /tmp/notifyd.fifo&quot;
</a> 
 # cheat sheet
 # %l - length
<b>diff --git a/<a id="h2" href="../file/scripts/.scripts/notifyd-old.html">scripts/.scripts/notifyd-old</a> b/<a href="../file/scripts/.scripts/notifyd-old.html">scripts/.scripts/notifyd-old</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -1,46 +0,0 @@
</a><a href="#h2-0-0" id="h2-0-0" class="d">-#! /bin/sh
</a><a href="#h2-0-1" id="h2-0-1" class="d">-
</a><a href="#h2-0-2" id="h2-0-2" class="d">-# Get coords of the monitor
</a><a href="#h2-0-3" id="h2-0-3" class="d">-monitor_x=&quot;$(dattr -x `pfd`)&quot;
</a><a href="#h2-0-4" id="h2-0-4" class="d">-monitor_y=&quot;$(dattr -y `pfd`)&quot;
</a><a href="#h2-0-5" id="h2-0-5" class="d">-# Get the size of the monitor
</a><a href="#h2-0-6" id="h2-0-6" class="d">-monitor_width=&quot;$(dattr -w `pfd`)&quot;
</a><a href="#h2-0-7" id="h2-0-7" class="d">-monitor_height=&quot;$(dattr -h `pfd`)&quot;
</a><a href="#h2-0-8" id="h2-0-8" class="d">-# Panel size
</a><a href="#h2-0-9" id="h2-0-9" class="d">-pad_x=&quot;50&quot;
</a><a href="#h2-0-10" id="h2-0-10" class="d">-pad_y=&quot;30&quot;
</a><a href="#h2-0-11" id="h2-0-11" class="d">-height=&quot;50&quot;
</a><a href="#h2-0-12" id="h2-0-12" class="d">-# Padding of the text in the panel
</a><a href="#h2-0-13" id="h2-0-13" class="d">-in_pad=&quot;30&quot;
</a><a href="#h2-0-14" id="h2-0-14" class="d">-# Yes.
</a><a href="#h2-0-15" id="h2-0-15" class="d">-font=&quot;-*-metis-normal-*-*-*-11-*-*-*-*-*-*-*&quot;
</a><a href="#h2-0-16" id="h2-0-16" class="d">-
</a><a href="#h2-0-17" id="h2-0-17" class="d">-color_summary=&quot;#71c2af&quot;
</a><a href="#h2-0-18" id="h2-0-18" class="d">-color_bg=&quot;#1d2a30&quot;
</a><a href="#h2-0-19" id="h2-0-19" class="d">-color_fg=&quot;#c27171&quot;
</a><a href="#h2-0-20" id="h2-0-20" class="d">-
</a><a href="#h2-0-21" id="h2-0-21" class="d">-dismiss=3
</a><a href="#h2-0-22" id="h2-0-22" class="d">-
</a><a href="#h2-0-23" id="h2-0-23" class="d">-TEMP_FILE=$(mktemp notifydXXX)
</a><a href="#h2-0-24" id="h2-0-24" class="d">-trap &quot;rm $TEMP_FILE&quot; INT
</a><a href="#h2-0-25" id="h2-0-25" class="d">-# No notifications on screen
</a><a href="#h2-0-26" id="h2-0-26" class="d">-echo &quot;0&quot; &gt; $TEMP_FILE
</a><a href="#h2-0-27" id="h2-0-27" class="d">-
</a><a href="#h2-0-28" id="h2-0-28" class="d">-sind -d -t $dismiss -f &apos;%s^%b&apos; |\
</a><a href="#h2-0-29" id="h2-0-29" class="d">-  # Reads the notifications line by line
</a><a href="#h2-0-30" id="h2-0-30" class="d">-  while read -r line; do
</a><a href="#h2-0-31" id="h2-0-31" class="d">-    active=$(cat $TEMP_FILE)
</a><a href="#h2-0-32" id="h2-0-32" class="d">-    active=$(( active + 1 ))
</a><a href="#h2-0-33" id="h2-0-33" class="d">-    echo $active &gt; $TEMP_FILE
</a><a href="#h2-0-34" id="h2-0-34" class="d">-    summary=$(echo $line | awk -F^ &apos;{print $1}&apos;)
</a><a href="#h2-0-35" id="h2-0-35" class="d">-    body=$(echo $line | awk -F^ &apos;{print $2}&apos;)
</a><a href="#h2-0-36" id="h2-0-36" class="d">-    # No body, no space
</a><a href="#h2-0-37" id="h2-0-37" class="d">-    [ -n body ] &amp;&amp; space=&quot; &quot;
</a><a href="#h2-0-38" id="h2-0-38" class="d">-    # To be precise
</a><a href="#h2-0-39" id="h2-0-39" class="d">-    text_width=$(txtw -f $font &quot;${summary}${body}&quot;)
</a><a href="#h2-0-40" id="h2-0-40" class="d">-    width=$((2 * in_pad + text_width))
</a><a href="#h2-0-41" id="h2-0-41" class="d">-    bar_y=$(( monitor_y + monitor_height - active * (pad_y + height) ))
</a><a href="#h2-0-42" id="h2-0-42" class="d">-    bar_opts=&quot;-d -g ${width}x${height}+$((monitor_x + monitor_width - pad_x - width))+$bar_y -B $color_bg -f $font&quot;
</a><a href="#h2-0-43" id="h2-0-43" class="d">-    # Show it and wait 3 seconds
</a><a href="#h2-0-44" id="h2-0-44" class="d">-    (echo &quot;%{c}%{F$color_summary}${summary}${space}%{F$color_fg}${body}&quot;; sleep $dismiss; current=$(cat $TEMP_FILE); echo &quot;$((current - 1))&quot; &gt; $TEMP_FILE) | lemonbar ${bar_opts} &amp;
</a><a href="#h2-0-45" id="h2-0-45" class="d">-  done
</a><b>diff --git a/<a id="h3" href="../file/scripts/.scripts/notifyd_old.html">scripts/.scripts/notifyd_old</a> b/<a href="../file/scripts/.scripts/notifyd_old.html">scripts/.scripts/notifyd_old</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -0,0 +1,46 @@
</a><a href="#h3-0-0" id="h3-0-0" class="i">+#! /bin/sh
</a><a href="#h3-0-1" id="h3-0-1" class="i">+
</a><a href="#h3-0-2" id="h3-0-2" class="i">+# Get coords of the monitor
</a><a href="#h3-0-3" id="h3-0-3" class="i">+monitor_x=&quot;$(dattr -x `pfd`)&quot;
</a><a href="#h3-0-4" id="h3-0-4" class="i">+monitor_y=&quot;$(dattr -y `pfd`)&quot;
</a><a href="#h3-0-5" id="h3-0-5" class="i">+# Get the size of the monitor
</a><a href="#h3-0-6" id="h3-0-6" class="i">+monitor_width=&quot;$(dattr -w `pfd`)&quot;
</a><a href="#h3-0-7" id="h3-0-7" class="i">+monitor_height=&quot;$(dattr -h `pfd`)&quot;
</a><a href="#h3-0-8" id="h3-0-8" class="i">+# Panel size
</a><a href="#h3-0-9" id="h3-0-9" class="i">+pad_x=&quot;50&quot;
</a><a href="#h3-0-10" id="h3-0-10" class="i">+pad_y=&quot;30&quot;
</a><a href="#h3-0-11" id="h3-0-11" class="i">+height=&quot;50&quot;
</a><a href="#h3-0-12" id="h3-0-12" class="i">+# Padding of the text in the panel
</a><a href="#h3-0-13" id="h3-0-13" class="i">+in_pad=&quot;30&quot;
</a><a href="#h3-0-14" id="h3-0-14" class="i">+# Yes.
</a><a href="#h3-0-15" id="h3-0-15" class="i">+font=&quot;-*-metis-normal-*-*-*-11-*-*-*-*-*-*-*&quot;
</a><a href="#h3-0-16" id="h3-0-16" class="i">+
</a><a href="#h3-0-17" id="h3-0-17" class="i">+color_summary=&quot;#71c2af&quot;
</a><a href="#h3-0-18" id="h3-0-18" class="i">+color_bg=&quot;#1d2a30&quot;
</a><a href="#h3-0-19" id="h3-0-19" class="i">+color_fg=&quot;#c27171&quot;
</a><a href="#h3-0-20" id="h3-0-20" class="i">+
</a><a href="#h3-0-21" id="h3-0-21" class="i">+dismiss=3
</a><a href="#h3-0-22" id="h3-0-22" class="i">+
</a><a href="#h3-0-23" id="h3-0-23" class="i">+TEMP_FILE=$(mktemp notifydXXX)
</a><a href="#h3-0-24" id="h3-0-24" class="i">+trap &quot;rm $TEMP_FILE&quot; INT
</a><a href="#h3-0-25" id="h3-0-25" class="i">+# No notifications on screen
</a><a href="#h3-0-26" id="h3-0-26" class="i">+echo &quot;0&quot; &gt; $TEMP_FILE
</a><a href="#h3-0-27" id="h3-0-27" class="i">+
</a><a href="#h3-0-28" id="h3-0-28" class="i">+sind -d -t $dismiss -f &apos;%s^%b&apos; |\
</a><a href="#h3-0-29" id="h3-0-29" class="i">+  # Reads the notifications line by line
</a><a href="#h3-0-30" id="h3-0-30" class="i">+  while read -r line; do
</a><a href="#h3-0-31" id="h3-0-31" class="i">+    active=$(cat $TEMP_FILE)
</a><a href="#h3-0-32" id="h3-0-32" class="i">+    active=$(( active + 1 ))
</a><a href="#h3-0-33" id="h3-0-33" class="i">+    echo $active &gt; $TEMP_FILE
</a><a href="#h3-0-34" id="h3-0-34" class="i">+    summary=$(echo $line | awk -F^ &apos;{print $1}&apos;)
</a><a href="#h3-0-35" id="h3-0-35" class="i">+    body=$(echo $line | awk -F^ &apos;{print $2}&apos;)
</a><a href="#h3-0-36" id="h3-0-36" class="i">+    # No body, no space
</a><a href="#h3-0-37" id="h3-0-37" class="i">+    [ -n body ] &amp;&amp; space=&quot; &quot;
</a><a href="#h3-0-38" id="h3-0-38" class="i">+    # To be precise
</a><a href="#h3-0-39" id="h3-0-39" class="i">+    text_width=$(txtw -f $font &quot;${summary}${body}&quot;)
</a><a href="#h3-0-40" id="h3-0-40" class="i">+    width=$((2 * in_pad + text_width))
</a><a href="#h3-0-41" id="h3-0-41" class="i">+    bar_y=$(( monitor_y + monitor_height - active * (pad_y + height) ))
</a><a href="#h3-0-42" id="h3-0-42" class="i">+    bar_opts=&quot;-d -g ${width}x${height}+$((monitor_x + monitor_width - pad_x - width))+$bar_y -B $color_bg -f $font&quot;
</a><a href="#h3-0-43" id="h3-0-43" class="i">+    # Show it and wait 3 seconds
</a><a href="#h3-0-44" id="h3-0-44" class="i">+    (echo &quot;%{c}%{F$color_summary}${summary}${space}%{F$color_fg}${body}&quot;; sleep $dismiss; current=$(cat $TEMP_FILE); echo &quot;$((current - 1))&quot; &gt; $TEMP_FILE) | lemonbar ${bar_opts} &amp;
</a><a href="#h3-0-45" id="h3-0-45" class="i">+  done
</a><b>diff --git a/<a id="h4" href="../file/scripts/.scripts/vol.html">scripts/.scripts/vol</a> b/<a href="../file/scripts/.scripts/vol.html">scripts/.scripts/vol</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -0,0 +1,42 @@
</a><a href="#h4-0-0" id="h4-0-0" class="i">+#!/bin/sh
</a><a href="#h4-0-1" id="h4-0-1" class="i">+#
</a><a href="#h4-0-2" id="h4-0-2" class="i">+# amixer wrapper
</a><a href="#h4-0-3" id="h4-0-3" class="i">+# (c) tudurom 2016 - wtfpl
</a><a href="#h4-0-4" id="h4-0-4" class="i">+#
</a><a href="#h4-0-5" id="h4-0-5" class="i">+
</a><a href="#h4-0-6" id="h4-0-6" class="i">+level() {
</a><a href="#h4-0-7" id="h4-0-7" class="i">+    amixer get Master | sed -n &apos;s/^.*\[\([0-9]\+%\).*$/\1/p&apos; | uniq
</a><a href="#h4-0-8" id="h4-0-8" class="i">+}
</a><a href="#h4-0-9" id="h4-0-9" class="i">+
</a><a href="#h4-0-10" id="h4-0-10" class="i">+state() {
</a><a href="#h4-0-11" id="h4-0-11" class="i">+    amixer get Master | sed -n &apos;s/^.*\[\(o[nf]\+\)]$/\1/p&apos; | uniq
</a><a href="#h4-0-12" id="h4-0-12" class="i">+}
</a><a href="#h4-0-13" id="h4-0-13" class="i">+
</a><a href="#h4-0-14" id="h4-0-14" class="i">+usage() {
</a><a href="#h4-0-15" id="h4-0-15" class="i">+    echo &quot;usage `basename $0` [+|-|m|state|level]&quot; &amp;&amp; exit 1
</a><a href="#h4-0-16" id="h4-0-16" class="i">+}
</a><a href="#h4-0-17" id="h4-0-17" class="i">+
</a><a href="#h4-0-18" id="h4-0-18" class="i">+i() {
</a><a href="#h4-0-19" id="h4-0-19" class="i">+    echo &quot;%{F$(xrq &apos;*.color9&apos;)}%{F-}&quot;
</a><a href="#h4-0-20" id="h4-0-20" class="i">+}
</a><a href="#h4-0-21" id="h4-0-21" class="i">+
</a><a href="#h4-0-22" id="h4-0-22" class="i">+case $1 in
</a><a href="#h4-0-23" id="h4-0-23" class="i">+    +)
</a><a href="#h4-0-24" id="h4-0-24" class="i">+        amixer sset Master 5%+ unmute &gt; /dev/null
</a><a href="#h4-0-25" id="h4-0-25" class="i">+        level
</a><a href="#h4-0-26" id="h4-0-26" class="i">+        ;;
</a><a href="#h4-0-27" id="h4-0-27" class="i">+    -)
</a><a href="#h4-0-28" id="h4-0-28" class="i">+        amixer sset Master 5%- unmute &gt; /dev/null
</a><a href="#h4-0-29" id="h4-0-29" class="i">+        level
</a><a href="#h4-0-30" id="h4-0-30" class="i">+        ;;
</a><a href="#h4-0-31" id="h4-0-31" class="i">+    m)
</a><a href="#h4-0-32" id="h4-0-32" class="i">+        amixer sset Master toggle &gt; /dev/null
</a><a href="#h4-0-33" id="h4-0-33" class="i">+        state
</a><a href="#h4-0-34" id="h4-0-34" class="i">+        ;;
</a><a href="#h4-0-35" id="h4-0-35" class="i">+    state|level|i)
</a><a href="#h4-0-36" id="h4-0-36" class="i">+        $1
</a><a href="#h4-0-37" id="h4-0-37" class="i">+        ;;
</a><a href="#h4-0-38" id="h4-0-38" class="i">+    *)
</a><a href="#h4-0-39" id="h4-0-39" class="i">+        usage
</a><a href="#h4-0-40" id="h4-0-40" class="i">+        ;;
</a><a href="#h4-0-41" id="h4-0-41" class="i">+esac
</a><b>diff --git a/<a id="h5" href="../file/shell/.shell.d/alias.sh.html">shell/.shell.d/alias.sh</a> b/<a href="../file/shell/.shell.d/alias.sh.html">shell/.shell.d/alias.sh</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -55,3 +55,7 @@ les() {
</a> x0st() {
     curl -F&quot;file=@${1}&quot; https://0x0.st
 }
<a href="#h5-0-3" id="h5-0-3" class="i">+
</a><a href="#h5-0-4" id="h5-0-4" class="i">+mtp() {
</a><a href="#h5-0-5" id="h5-0-5" class="i">+    sudo simple-mtpfs /mnt -o allow_other
</a><a href="#h5-0-6" id="h5-0-6" class="i">+}
</a><b>diff --git a/<a id="h6" href="../file/wmrc/.config/sxhkd/commons.html">wmrc/.config/sxhkd/commons</a> b/<a href="../file/wmrc/.config/sxhkd/commons.html">wmrc/.config/sxhkd/commons</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -27,13 +27,13 @@ super + F3
</a>   echo &quot;awesome&quot; &gt; /tmp/minbar.cmd
 
 XF86AudioRaiseVolume
<a href="#h6-0-3" id="h6-0-3" class="d">-  amixer -q sset Master 5%+ unmute
</a><a href="#h6-0-4" id="h6-0-4" class="i">+  echo `vol i` `vol +` &gt; &quot;$NOTIFY_FIFO_PATH&quot;
</a> 
 XF86AudioLowerVolume
<a href="#h6-0-7" id="h6-0-7" class="d">-  amixer -q sset Master 5%- unmute
</a><a href="#h6-0-8" id="h6-0-8" class="i">+  echo `vol i` `vol -` &gt; &quot;$NOTIFY_FIFO_PATH&quot;
</a> 
 XF86AudioMute
<a href="#h6-0-11" id="h6-0-11" class="d">-  amixer -q sset Master mute
</a><a href="#h6-0-12" id="h6-0-12" class="i">+  echo `vol i` `vol m` &gt; &quot;$NOTIFY_FIFO_PATH&quot;
</a> 
 XF86MonBrightnessUp
   xbacklight -inc 10%
<b>diff --git a/<a id="h7" href="../file/wmrc/.scripts/notifyd.html">wmrc/.scripts/notifyd</a> b/<a href="../file/wmrc/.scripts/notifyd.html">wmrc/.scripts/notifyd</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -4,11 +4,12 @@
</a> # (c) tudurom 2016 - wtfpl
 #
 
<a href="#h7-0-3" id="h7-0-3" class="d">-NOTIFY_FIFO_PATH=${NOTIFY_FIFO_PATH:-$HOME/tmp/notifyd.fifo}
</a><a href="#h7-0-4" id="h7-0-4" class="d">-NOTIFY_COUNTER_PATH=${NOTIFY_COUNTER_PATH:-$HOME/tmp/notifyd.cnt}
</a><a href="#h7-0-5" id="h7-0-5" class="i">+NOTIFY_FIFO_PATH=&quot;${NOTIFY_FIFO_PATH:-/tmp/notifyd.fifo}&quot;
</a><a href="#h7-0-6" id="h7-0-6" class="i">+NOTIFY_COUNTER_PATH=&quot;${NOTIFY_COUNTER_PATH:-/tmp/notifyd.cnt}&quot;
</a> 
 # create fifo
 test -p $NOTIFY_FIFO_PATH || mkfifo $NOTIFY_FIFO_PATH
<a href="#h7-0-10" id="h7-0-10" class="i">+rm &quot;$NOTIFY_COUNTER_PATH&quot;; echo &quot;0&quot; &gt; &quot;$NOTIFY_COUNTER_PATH&quot;
</a> 
 # display vars
 DISPLAY_X=&quot;$(dattr -x `ppd`)&quot;
<a href="#h7-1" id="h7-1" class="h">@@ -16,24 +17,32 @@ DISPLAY_Y=&quot;$(dattr -y `ppd`)&quot;
</a> DISPLAY_W=&quot;$(dattr -w `ppd`)&quot;
 DISPLAY_H=&quot;$(dattr -h `ppd`)&quot;
 
<a href="#h7-1-3" id="h7-1-3" class="d">-NOTIFY_W=&quot;$(( 110 + 2 * PANEL_INNER_GAP ))&quot;
</a><a href="#h7-1-4" id="h7-1-4" class="i">+space_len=&quot;$(txtw -f &quot;PANEL_FONT_NAME&quot; &quot; &quot;)&quot;
</a> NOTIFY_H=&quot;$(( $PANEL_STATUS_HEIGHT ))&quot;
<a href="#h7-1-6" id="h7-1-6" class="d">-NOTIFY_X=&quot;$(( DISPLAY_X + GENERAL_GAP + 300 + GENERAL_GAP ))&quot;
</a> NOTIFY_Y=&quot;$(( DISPLAY_Y + GENERAL_GAP ))&quot;
 
<a href="#h7-1-9" id="h7-1-9" class="d">-n=0
</a><a href="#h7-1-10" id="h7-1-10" class="d">-echo &quot;$n&quot; &gt; &quot;$NOTIFY_COUNTER_PATH&quot;
</a><a href="#h7-1-11" id="h7-1-11" class="i">+gn() {
</a><a href="#h7-1-12" id="h7-1-12" class="i">+    cat &quot;$NOTIFY_COUNTER_PATH&quot;
</a><a href="#h7-1-13" id="h7-1-13" class="i">+}
</a><a href="#h7-1-14" id="h7-1-14" class="i">+
</a><a href="#h7-1-15" id="h7-1-15" class="i">+sn() {
</a><a href="#h7-1-16" id="h7-1-16" class="i">+    echo &quot;$1&quot; &gt; &quot;$NOTIFY_COUNTER_PATH&quot;
</a><a href="#h7-1-17" id="h7-1-17" class="i">+}
</a><a href="#h7-1-18" id="h7-1-18" class="i">+
</a><a href="#h7-1-19" id="h7-1-19" class="i">+sn &quot;0&quot;
</a><a href="#h7-1-20" id="h7-1-20" class="i">+
</a> tail -f &quot;$NOTIFY_FIFO_PATH&quot; | \
 while IFS= read -r message; do
<a href="#h7-1-23" id="h7-1-23" class="d">-  # increment counter
</a><a href="#h7-1-24" id="h7-1-24" class="d">-  n=&quot;$(cat &quot;$NOTIFY_COUNTER_PATH&quot;)&quot;
</a><a href="#h7-1-25" id="h7-1-25" class="d">-  n=&quot;$(( n + 1 ))&quot;
</a><a href="#h7-1-26" id="h7-1-26" class="d">-  echo &quot;$n&quot; &gt; &quot;$NOTIFY_COUNTER_PATH&quot;
</a><a href="#h7-1-27" id="h7-1-27" class="d">-
</a><a href="#h7-1-28" id="h7-1-28" class="d">-  {
</a><a href="#h7-1-29" id="h7-1-29" class="d">-      popup $(( NOTIFY_X + (n - 1) * (NOTIFY_W + GENERAL_GAP) )) $NOTIFY_Y $NOTIFY_W $NOTIFY_H &quot;$message&quot;
</a><a href="#h7-1-30" id="h7-1-30" class="d">-    n=&quot;$(cat &quot;$NOTIFY_COUNTER_PATH&quot;)&quot;
</a><a href="#h7-1-31" id="h7-1-31" class="d">-    n=&quot;$(( n - 1 ))&quot;
</a><a href="#h7-1-32" id="h7-1-32" class="d">-    echo &quot;$n&quot; &gt; &quot;$NOTIFY_COUNTER_PATH&quot;
</a><a href="#h7-1-33" id="h7-1-33" class="d">-  } &amp;
</a><a href="#h7-1-34" id="h7-1-34" class="i">+    # increment counter
</a><a href="#h7-1-35" id="h7-1-35" class="i">+    sn &quot;$(( $(gn) + 1 ))&quot;
</a><a href="#h7-1-36" id="h7-1-36" class="i">+
</a><a href="#h7-1-37" id="h7-1-37" class="i">+    {
</a><a href="#h7-1-38" id="h7-1-38" class="i">+        NOTIFY_W=&quot;$(( 4 * space_len + $(txtw -f &quot;$PANEL_FONT_NAME&quot; &quot;$(echo &quot;$message&quot; | tr -cd &apos;[[:alnum:]]._-&apos;)&quot;)  ))&quot;
</a><a href="#h7-1-39" id="h7-1-39" class="i">+        NOTIFY_X=&quot;$(( DISPLAY_X + DISPLAY_W - (GENERAL_GAP + NOTIFY_W + 2 * BW) ))&quot;
</a><a href="#h7-1-40" id="h7-1-40" class="i">+        NOTIFY_Y=&quot;$(( DISPLAY_Y + GENERAL_GAP + ( $(gn) - 1 ) * (NOTIFY_H + GENERAL_GAP) ))&quot;
</a><a href="#h7-1-41" id="h7-1-41" class="i">+        popup $NOTIFY_X $NOTIFY_Y $NOTIFY_W $NOTIFY_H &quot;$message&quot;
</a><a href="#h7-1-42" id="h7-1-42" class="i">+
</a><a href="#h7-1-43" id="h7-1-43" class="i">+        # decrement the counter
</a><a href="#h7-1-44" id="h7-1-44" class="i">+        sn &quot;$(( $(gn) - 1 ))&quot;
</a><a href="#h7-1-45" id="h7-1-45" class="i">+    } &amp;
</a> done
<b>diff --git a/<a id="h8" href="../file/wmrc/.scripts/notifyd-musicd.html">wmrc/.scripts/notifyd-musicd</a> b/<a href="../file/wmrc/.scripts/notifyd-musicd.html">wmrc/.scripts/notifyd-musicd</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -0,0 +1,19 @@
</a><a href="#h8-0-0" id="h8-0-0" class="i">+#!/bin/sh -x
</a><a href="#h8-0-1" id="h8-0-1" class="i">+
</a><a href="#h8-0-2" id="h8-0-2" class="i">+while :; do
</a><a href="#h8-0-3" id="h8-0-3" class="i">+    mpc idle &gt; /dev/null
</a><a href="#h8-0-4" id="h8-0-4" class="i">+    curr=&quot;$(mpc status)&quot;
</a><a href="#h8-0-5" id="h8-0-5" class="i">+
</a><a href="#h8-0-6" id="h8-0-6" class="i">+    status=&quot;$(echo &quot;$curr&quot; | sed -n 2p | cut -d&apos; &apos; -f1)&quot;
</a><a href="#h8-0-7" id="h8-0-7" class="i">+    ico=&quot;&quot;
</a><a href="#h8-0-8" id="h8-0-8" class="i">+    if [ &quot;$status&quot; = &quot;[playing]&quot; ]; then
</a><a href="#h8-0-9" id="h8-0-9" class="i">+        ico=&quot;&quot;
</a><a href="#h8-0-10" id="h8-0-10" class="i">+    elif [ &quot;$status&quot; = &quot;[paused]&quot; ]; then
</a><a href="#h8-0-11" id="h8-0-11" class="i">+        ico=&quot;&quot;
</a><a href="#h8-0-12" id="h8-0-12" class="i">+    else
</a><a href="#h8-0-13" id="h8-0-13" class="i">+        ico=&quot;&quot;
</a><a href="#h8-0-14" id="h8-0-14" class="i">+    fi
</a><a href="#h8-0-15" id="h8-0-15" class="i">+    song=&quot;$(mpc current)&quot;
</a><a href="#h8-0-16" id="h8-0-16" class="i">+
</a><a href="#h8-0-17" id="h8-0-17" class="i">+    echo &quot;%{F$(xrq &apos;*.color9&apos;)}${ico}%{F-} ${song}&quot; &gt; &quot;$NOTIFY_FIFO_PATH&quot;
</a><a href="#h8-0-18" id="h8-0-18" class="i">+done
</a><b>diff --git a/<a id="h9" href="../file/wmrc/.scripts/panelsrc.html">wmrc/.scripts/panelsrc</a> b/<a href="../file/wmrc/.scripts/panelsrc.html">wmrc/.scripts/panelsrc</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -2,9 +2,10 @@
</a> # (c) tudurom 2016 - wtfpl
 
 #export PANEL_FONT=&quot;-*-erusfont-medium-*-*-*-11-*-*-*-*-*-*-*&quot;
<a href="#h9-0-3" id="h9-0-3" class="d">-export PANEL_FONT=&quot;-benis-lemon-*-*-*-*-10-*-*-*-*-*-*-*&quot;
</a><a href="#h9-0-4" id="h9-0-4" class="i">+export PANEL_FONT=&quot;-*-yuki-*-*-*-*-10-*-*-*-*-*-*-*&quot;
</a> export PANEL_ICON_FONT=&quot;-wuncon-siji-medium-*-*-*-10-*-*-*-*-*-*-*&quot;
 export PANEL_FONT_NAME=&quot;lemon&quot;
<a href="#h9-0-7" id="h9-0-7" class="i">+export PANEL_ICON_FONT_NAME=&quot;siji&quot;
</a> 
 export PANEL_STATUS_HEIGHT=&quot;30&quot;
 export PANEL_BG_COLOR=&quot;`xrq &apos;*.background&apos;`&quot;
<b>diff --git a/<a id="h10" href="../file/wmrc/.scripts/popup.html">wmrc/.scripts/popup</a> b/<a href="../file/wmrc/.scripts/popup.html">wmrc/.scripts/popup</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -16,10 +16,11 @@ MESSAGE=&quot;$5&quot;
</a> BAR_BG=&quot;$PANEL_BG_COLOR&quot;
 BAR_FG=`xrq &apos;*.color14&apos;`
 BAR_FONT=&quot;$PANEL_FONT&quot;
<a href="#h10-0-3" id="h10-0-3" class="i">+BAR_ICON_FONT=&quot;$PANEL_ICON_FONT&quot;
</a> 
<a href="#h10-0-5" id="h10-0-5" class="d">-bar_opts=&quot;-g ${BAR_W}x${BAR_H}+${BAR_X}+${BAR_Y} -B${BAR_BG} -F${BAR_FG} -f ${BAR_FONT} -d -r $BW -R `xrq *.color8`&quot;
</a><a href="#h10-0-6" id="h10-0-6" class="i">+bar_opts=&quot;-g ${BAR_W}x${BAR_H}+${BAR_X}+${BAR_Y} -B${BAR_BG} -F${BAR_FG} -f ${BAR_FONT} -f ${BAR_ICON_FONT} -d -r $BW -R `xrq *.color8`&quot;
</a> 
 (
<a href="#h10-0-9" id="h10-0-9" class="d">-tx_len=&quot;35&quot;
</a><a href="#h10-0-10" id="h10-0-10" class="d">-echo &quot;$MESSAGE&quot; | skroll -r -n $tx_len
</a><a href="#h10-0-11" id="h10-0-11" class="i">+echo &quot;%{c}$MESSAGE&quot;
</a><a href="#h10-0-12" id="h10-0-12" class="i">+sleep 1.5
</a> ) | lemonbar ${bar_opts}
<b>diff --git a/<a id="h11" href="../file/x/.xinitrc.html">x/.xinitrc</a> b/<a href="../file/x/.xinitrc.html">x/.xinitrc</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -45,4 +45,7 @@ wmname LG3D
</a> 
 # Start the thing
 minbar &amp;
<a href="#h11-0-3" id="h11-0-3" class="i">+for s in $HOME/bin/notifyd-*; do
</a><a href="#h11-0-4" id="h11-0-4" class="i">+    $s &amp;
</a><a href="#h11-0-5" id="h11-0-5" class="i">+done
</a> exec startwm bspwm
<b>diff --git a/<a id="h12" href="../file/x/.xres/urxvt.html">x/.xres/urxvt</a> b/<a href="../file/x/.xres/urxvt.html">x/.xres/urxvt</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -1,4 +1,4 @@
</a><a href="#h12-0-0" id="h12-0-0" class="d">-*.font: -*-gohufont-medium-*-*-*-14-*-*-*-*-*-*-*
</a><a href="#h12-0-1" id="h12-0-1" class="i">+*.font: -*-gohufont-medium-*-*-*-11-*-*-*-*-*-*-*
</a> URxvt.letterSpace: 0
 ! No bold font
 URxvt.boldFont:
</pre>
</div>
</body>
</html>
