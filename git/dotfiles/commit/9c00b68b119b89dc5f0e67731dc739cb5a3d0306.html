<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Language" content="en" />
<title>Music bar and copyrights - dotfiles - My small load of configuration files and scripts.
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dotfiles.git Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>dotfiles</h1><span class="desc">My small load of configuration files and scripts.
</span></td></tr><tr class="url"><td></td><td>git clone <a href="git://thetudor.ddns.net/dotfiles.git">git://thetudor.ddns.net/dotfiles.git</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/9c00b68b119b89dc5f0e67731dc739cb5a3d0306.html">9c00b68b119b89dc5f0e67731dc739cb5a3d0306</a>
<b>parent</b> <a href="../commit/967a5a31ffa796166b9725b77ccd042f6a09942c.html">967a5a31ffa796166b9725b77ccd042f6a09942c</a>
<b>Author:</b> Tudor &lt;<a href="mailto:tudurom@gmail.com">tudurom@gmail.com</a>&gt;
<b>Date:</b>   Mon Mar  7 21:55:41 2016

Music bar and copyrights

<b>Diffstat:</b>
 compton/.compton.conf              |  4 +--
 scripts/.scripts/run_dmenu         |  2 +-
 wmrc/.config/sxhkd/sxhkdrc_wmutils |  2 +-
 wmrc/.scripts/cornerw              |  1 +-
 wmrc/.scripts/focusw               |  1 +-
 wmrc/.scripts/iconsrc              | 10 +++++++++-
 wmrc/.scripts/infobar              | 13 ++++++-----
 wmrc/.scripts/musicbar             | 45 +++++++++++++++++++++++++++++++++++++++-
 wmrc/.scripts/panelsrc             |  3 +++-
 wmrc/.scripts/startwmutils         |  4 +++-
 wmrc/.scripts/windowat             |  4 ++-
 wmrc/.scripts/wmrc                 |  4 +++-
 wmrc/.scripts/xwait                |  4 +--
 13 files changed, 85 insertions(+), 12 deletions(-)
<hr/><b>diff --git a/<a href="../file/compton/.compton.conf.html">compton/.compton.conf</a> b/<a href="../file/compton/.compton.conf.html">compton/.compton.conf</a></b>
<a href="#h0" id="h0" class="h">@@ -59,13 +59,13 @@ fade-out-step = 0.05;
</a> fade-exclude = [ ];
 
 # Other
<a href="#h0-3" id="h0-3" class="d">-backend = &quot;glx&quot;
</a><a href="#h0-4" id="h0-4" class="i">+backend = &quot;xrender&quot;
</a> mark-wmwin-focused = true;
 mark-ovredir-focused = true;
 detect-rounded-corners = true;
 detect-client-opacity = true;
 refresh-rate = 0;
<a href="#h0-10" id="h0-10" class="d">-vsync = &quot;opengl&quot;;
</a><a href="#h0-11" id="h0-11" class="i">+vsync = &quot;opengl-oml&quot;;
</a> dbe = false;
 paint-on-overlay = true;
 focus-exclude = [ &quot;class_g = &apos;Cairo-clock&apos;&quot; ];
<b>diff --git a/<a href="../file/scripts/.scripts/run_dmenu.html">scripts/.scripts/run_dmenu</a> b/<a href="../file/scripts/.scripts/run_dmenu.html">scripts/.scripts/run_dmenu</a></b>
<a href="#h0" id="h0" class="h">@@ -3,4 +3,4 @@
</a> monitor_width=$(xrandr | grep &quot;primary&quot; | awk -F&apos;[ x+]&apos; &apos;{print $4}&apos;)
 font=&quot;-benis-lemon-medium-r-normal--10-110-75-75-m-50-ISO8859-1&quot;
 
<a href="#h0-3" id="h0-3" class="d">-dmenu_run -s 0 -nf &quot;#71c2af&quot; -nb &quot;#273941&quot; -sb &quot;#1d2a30&quot; -sf &quot;#c27171&quot; -i -h 30 -w &quot;${monitor_width}&quot; -q -x 0 -y 30 -fn &quot;${font}&quot; -p &quot;&gt;&quot; -l 3
</a><a href="#h0-4" id="h0-4" class="i">+dmenu_run -s 0 -nf &quot;#71c2af&quot; -nb &quot;#273941&quot; -sb &quot;#1d2a30&quot; -sf &quot;#c27171&quot; -i -h 30 -w &quot;${monitor_width}&quot; -q -x 0 -y 0 -fn &quot;${font}&quot; -p &quot;&gt;&quot; -l 3
</a><b>diff --git a/<a href="../file/wmrc/.config/sxhkd/sxhkdrc_wmutils.html">wmrc/.config/sxhkd/sxhkdrc_wmutils</a> b/<a href="../file/wmrc/.config/sxhkd/sxhkdrc_wmutils.html">wmrc/.config/sxhkd/sxhkdrc_wmutils</a></b>
<a href="#h0" id="h0" class="h">@@ -89,7 +89,7 @@ alt + {h,j,k,l}
</a>   focusw $(closestw {h, j, k, l})
 
 # focus next window
<a href="#h0-3" id="h0-3" class="d">-super + Tab
</a><a href="#h0-4" id="h0-4" class="i">+alt + Tab
</a>   focusw $(closestw next)
 
 # move window
<b>diff --git a/<a href="../file/wmrc/.scripts/cornerw.html">wmrc/.scripts/cornerw</a> b/<a href="../file/wmrc/.scripts/cornerw.html">wmrc/.scripts/cornerw</a></b>
<a href="#h0" id="h0" class="h">@@ -2,6 +2,7 @@
</a> 
 # puts a window in a given corner or in the middle of the screen
 # (c) tudurom 2016 - wtfpl
<a href="#h0-3" id="h0-3" class="i">+#
</a> 
 pfw=&quot;${2:-$(pfw)}&quot;
 root=&quot;$(lsw -r)&quot;
<b>diff --git a/<a href="../file/wmrc/.scripts/focusw.html">wmrc/.scripts/focusw</a> b/<a href="../file/wmrc/.scripts/focusw.html">wmrc/.scripts/focusw</a></b>
<a href="#h0" id="h0" class="h">@@ -2,6 +2,7 @@
</a> #
 # z3bra &amp; tudurom - 2014 (c) wtfpl
 # window focus wrapper that sets borders
<a href="#h0-3" id="h0-3" class="i">+#
</a> 
 BW=${BW:-2}                    # border width
 ACTIVE=${ACTIVE:-0x63a69b}     # active border color
<b>diff --git a/<a href="../file/wmrc/.scripts/iconsrc.html">wmrc/.scripts/iconsrc</a> b/<a href="../file/wmrc/.scripts/iconsrc.html">wmrc/.scripts/iconsrc</a></b>
<a href="#h0" id="h0" class="h">@@ -1 +1,11 @@
</a><a href="#h0-0" id="h0-0" class="i">+# Environment variables for different icons
</a><a href="#h0-1" id="h0-1" class="i">+# (c) tudurom 2016 - wtfpl
</a><a href="#h0-2" id="h0-2" class="i">+#
</a><a href="#h0-3" id="h0-3" class="i">+
</a><a href="#h0-4" id="h0-4" class="i">+# Clock bar
</a> ICON_CLOCK=&quot;\ue015&quot;
<a href="#h0-6" id="h0-6" class="i">+
</a><a href="#h0-7" id="h0-7" class="i">+# Music bar
</a><a href="#h0-8" id="h0-8" class="i">+ICON_PLAY=&quot;\ue058&quot;
</a><a href="#h0-9" id="h0-9" class="i">+ICON_PAUSE=&quot;\ue059&quot;
</a><a href="#h0-10" id="h0-10" class="i">+ICON_STOP=&quot;\ue057&quot;
</a><b>diff --git a/<a href="../file/wmrc/.scripts/infobar.html">wmrc/.scripts/infobar</a> b/<a href="../file/wmrc/.scripts/infobar.html">wmrc/.scripts/infobar</a></b>
<a href="#h0" id="h0" class="h">@@ -1,4 +1,7 @@
</a> #! /bin/sh
<a href="#h0-1" id="h0-1" class="i">+# A little panel that shows the current time in the corner
</a><a href="#h0-2" id="h0-2" class="i">+# (c) tudurom 2016 - wtfpl
</a><a href="#h0-3" id="h0-3" class="i">+#
</a> 
 source wmrc
 source panelsrc
<a href="#h1" id="h1" class="h">@@ -6,10 +9,7 @@ source iconsrc
</a> 
 clock() {
   format=&apos;%a %d %B %H:%M&apos;
<a href="#h1-3" id="h1-3" class="d">-  while true; do
</a><a href="#h1-4" id="h1-4" class="d">-    echo -e &quot;%{c}%{T2}%{F$PANEL_ACCENT_COLOR}$ICON_CLOCK%{T-}%{F-} $(date &quot;+$format&quot;)&quot;
</a><a href="#h1-5" id="h1-5" class="d">-    sleep 1
</a><a href="#h1-6" id="h1-6" class="d">-  done
</a><a href="#h1-7" id="h1-7" class="i">+  echo -e &quot;%{c}%{T2}%{F$PANEL_ACCENT_COLOR}$ICON_CLOCK%{T-}%{F-} $(date &quot;+$format&quot;)&quot;
</a> }
 
 width=110
<a href="#h2" id="h2" class="h">@@ -24,4 +24,7 @@ panel_x=$(( root_width - panel_width - WINDOW_GAP ))
</a> panel_y=$(( root_height - panel_height - WINDOW_GAP ))
 panel_opts=&quot;$PANEL_OPTS -g ${panel_width}x${panel_height}+${panel_x}+${panel_y}&quot;
 
<a href="#h2-3" id="h2-3" class="d">-clock | lemonbar $panel_opts
</a><a href="#h2-4" id="h2-4" class="i">+while true; do
</a><a href="#h2-5" id="h2-5" class="i">+  clock
</a><a href="#h2-6" id="h2-6" class="i">+  sleep 1
</a><a href="#h2-7" id="h2-7" class="i">+done | lemonbar $panel_opts
</a><b>diff --git a/<a href="../file/wmrc/.scripts/musicbar.html">wmrc/.scripts/musicbar</a> b/<a href="../file/wmrc/.scripts/musicbar.html">wmrc/.scripts/musicbar</a></b>
<a href="#h0" id="h0" class="h">@@ -0,0 +1,45 @@
</a><a href="#h0-0" id="h0-0" class="i">+#! /bin/sh
</a><a href="#h0-1" id="h0-1" class="i">+#
</a><a href="#h0-2" id="h0-2" class="i">+# Little panel to show current playing song
</a><a href="#h0-3" id="h0-3" class="i">+# (c) tudurom 2016 - wtfpl
</a><a href="#h0-4" id="h0-4" class="i">+#
</a><a href="#h0-5" id="h0-5" class="i">+
</a><a href="#h0-6" id="h0-6" class="i">+source wmrc
</a><a href="#h0-7" id="h0-7" class="i">+source panelsrc
</a><a href="#h0-8" id="h0-8" class="i">+source iconsrc
</a><a href="#h0-9" id="h0-9" class="i">+
</a><a href="#h0-10" id="h0-10" class="i">+last_title=&quot;-&quot;
</a><a href="#h0-11" id="h0-11" class="i">+music() {
</a><a href="#h0-12" id="h0-12" class="i">+  if [ $(mpc status | wc -l ) -eq 3 ]; then
</a><a href="#h0-13" id="h0-13" class="i">+    last_title=$(mpc status | head -n 1)
</a><a href="#h0-14" id="h0-14" class="i">+  elif [ $(mpc status | wc -l) -eq 0 ]; then
</a><a href="#h0-15" id="h0-15" class="i">+    last_title=&quot;-&quot;
</a><a href="#h0-16" id="h0-16" class="i">+  fi
</a><a href="#h0-17" id="h0-17" class="i">+
</a><a href="#h0-18" id="h0-18" class="i">+  if [ -n &quot;$(mpc status | grep paused)&quot; ]; then
</a><a href="#h0-19" id="h0-19" class="i">+    icon=&quot;$ICON_PAUSE&quot;
</a><a href="#h0-20" id="h0-20" class="i">+  elif [ -n &quot;$(mpc status | grep playing)&quot; ]; then
</a><a href="#h0-21" id="h0-21" class="i">+    icon=&quot;$ICON_PLAY&quot;
</a><a href="#h0-22" id="h0-22" class="i">+  else
</a><a href="#h0-23" id="h0-23" class="i">+    icon=&quot;$ICON_STOP&quot;
</a><a href="#h0-24" id="h0-24" class="i">+  fi
</a><a href="#h0-25" id="h0-25" class="i">+
</a><a href="#h0-26" id="h0-26" class="i">+  echo -e &quot;%{c}%{A1:mpc toggle:}%{A2:urxvt -e /usr/bin/cava &amp;:}%{A3:mpc stop:}%{A4:mpc next:}%{A5:mpc prev:}%{T2}%{F$PANEL_ACCENT_COLOR}${icon}%{T-}%{F-} $last_title%{A}%{A}%{A}%{A}%{A}&quot;
</a><a href="#h0-27" id="h0-27" class="i">+}
</a><a href="#h0-28" id="h0-28" class="i">+
</a><a href="#h0-29" id="h0-29" class="i">+width=330
</a><a href="#h0-30" id="h0-30" class="i">+height=5
</a><a href="#h0-31" id="h0-31" class="i">+root_window=$(lsw -r)
</a><a href="#h0-32" id="h0-32" class="i">+root_width=$(wattr w $root_window)
</a><a href="#h0-33" id="h0-33" class="i">+root_height=$(wattr h $root_window)
</a><a href="#h0-34" id="h0-34" class="i">+
</a><a href="#h0-35" id="h0-35" class="i">+panel_width=$(( width + 2 * WINDOW_GAP ))
</a><a href="#h0-36" id="h0-36" class="i">+panel_height=$(( height + 2 * WINDOW_GAP ))
</a><a href="#h0-37" id="h0-37" class="i">+panel_x=$(( root_width - panel_width - WINDOW_GAP ))
</a><a href="#h0-38" id="h0-38" class="i">+panel_y=$(( WINDOW_GAP ))
</a><a href="#h0-39" id="h0-39" class="i">+panel_opts=&quot;$PANEL_OPTS -g ${panel_width}x${panel_height}+${panel_x}+${panel_y}&quot;
</a><a href="#h0-40" id="h0-40" class="i">+
</a><a href="#h0-41" id="h0-41" class="i">+while true; do
</a><a href="#h0-42" id="h0-42" class="i">+  music
</a><a href="#h0-43" id="h0-43" class="i">+  sleep 1
</a><a href="#h0-44" id="h0-44" class="i">+done | lemonbar $panel_opts | sh
</a><b>diff --git a/<a href="../file/wmrc/.scripts/panelsrc.html">wmrc/.scripts/panelsrc</a> b/<a href="../file/wmrc/.scripts/panelsrc.html">wmrc/.scripts/panelsrc</a></b>
<a href="#h0" id="h0" class="h">@@ -1,3 +1,6 @@
</a><a href="#h0-0" id="h0-0" class="i">+# Standard variables for panels
</a><a href="#h0-1" id="h0-1" class="i">+# (c) tudurom 2016 - wtfpl
</a><a href="#h0-2" id="h0-2" class="i">+
</a> PANEL_FONT=&quot;-*-erusfont-medium-*-*-*-11-*-*-*-*-*-*-*&quot;
 PANEL_ICON_FONT=&quot;-wuncon-siji-medium-*-*-*-10-*-*-*-*-*-*-*&quot;
 PANEL_BG_COLOR=&quot;#1d2a30&quot;
<b>diff --git a/<a href="../file/wmrc/.scripts/startwmutils.html">wmrc/.scripts/startwmutils</a> b/<a href="../file/wmrc/.scripts/startwmutils.html">wmrc/.scripts/startwmutils</a></b>
<a href="#h0" id="h0" class="h">@@ -1,7 +1,11 @@
</a> #! /bin/sh
<a href="#h0-1" id="h0-1" class="i">+# Starts the environment
</a><a href="#h0-2" id="h0-2" class="i">+# (c) tudurom 2016 - wtfpl
</a><a href="#h0-3" id="h0-3" class="i">+#
</a> 
 sxhkd -c ~/.config/sxhkd/sxhkdrc_wmutils &amp;
 wew | wewhandle &amp;
 setwall &amp;
 infobar &amp;
<a href="#h0-9" id="h0-9" class="i">+musicbar &amp;
</a> xwait
<b>diff --git a/<a href="../file/wmrc/.scripts/windowat.html">wmrc/.scripts/windowat</a> b/<a href="../file/wmrc/.scripts/windowat.html">wmrc/.scripts/windowat</a></b>
<a href="#h0" id="h0" class="h">@@ -1,7 +1,9 @@
</a> #! /bin/sh
<a href="#h0-1" id="h0-1" class="d">-
</a> # returns the id of the first window at the given coordinates
 # (c) tudurom 2016 - wtfpl
<a href="#h0-4" id="h0-4" class="i">+#
</a><a href="#h0-5" id="h0-5" class="i">+
</a><a href="#h0-6" id="h0-6" class="i">+# TODO: find a use for this
</a> 
 usage() {
   echo &quot;usage: $(basename $0) &lt;x&gt; &lt;y&gt;&quot;
<b>diff --git a/<a href="../file/wmrc/.scripts/wmrc.html">wmrc/.scripts/wmrc</a> b/<a href="../file/wmrc/.scripts/wmrc.html">wmrc/.scripts/wmrc</a></b>
<a href="#h0" id="h0" class="h">@@ -1 +1,5 @@
</a><a href="#h0-0" id="h0-0" class="i">+# Environment variables for the whole desktop environment
</a><a href="#h0-1" id="h0-1" class="i">+# (c) tudurom 2016 - wtfpl
</a><a href="#h0-2" id="h0-2" class="i">+#
</a><a href="#h0-3" id="h0-3" class="i">+
</a> WINDOW_GAP=20
<b>diff --git a/<a href="../file/wmrc/.scripts/xwait.html">wmrc/.scripts/xwait</a> b/<a href="../file/wmrc/.scripts/xwait.html">wmrc/.scripts/xwait</a></b>
<a href="#h0" id="h0" class="h">@@ -1,7 +1,7 @@
</a> #! /bin/bash
<a href="#h0-1" id="h0-1" class="d">-
</a> # dummy script
<a href="#h0-3" id="h0-3" class="d">-# (c) tudurom 2016 - wtfpl
</a><a href="#h0-4" id="h0-4" class="i">+# (c) every stupid idiot who knows bash 2016 - wtfpl
</a><a href="#h0-5" id="h0-5" class="i">+#
</a> 
 while true; do
   sleep 1
</pre>
</div>
</body>
</html>
