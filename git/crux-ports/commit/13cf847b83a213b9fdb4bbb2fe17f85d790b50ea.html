<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Language" content="en" />
<title>use optional field, check for clisp - crux-ports - Ports for crux. Bassed off arcetera&apos;s original ports.
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="crux-ports.git Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>crux-ports</h1><span class="desc">Ports for crux. Bassed off arcetera&apos;s original ports.
</span></td></tr><tr class="url"><td></td><td>git clone <a href="git://thetudor.ddns.net/crux-ports.git">git://thetudor.ddns.net/crux-ports.git</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/13cf847b83a213b9fdb4bbb2fe17f85d790b50ea.html">13cf847b83a213b9fdb4bbb2fe17f85d790b50ea</a>
<b>parent</b> <a href="../commit/6c85a05f42bed26e980e549faa5c1a14ff8fa2d6.html">6c85a05f42bed26e980e549faa5c1a14ff8fa2d6</a>
<b>Author:</b> ix &lt;<a href="mailto:arcetera@openmailbox.org">arcetera@openmailbox.org</a>&gt;
<b>Date:</b>   Tue Mar 22 18:27:37 2016

use optional field, check for clisp

<b>Diffstat:</b>
 sbcl/Pkgfile |  9 +++++++--
 sbcl/README  |  5 -----
 2 files changed, 7 insertions(+), 7 deletions(-)
<hr/><b>diff --git a/<a href="../file/sbcl/Pkgfile.html">sbcl/Pkgfile</a> b/<a href="../file/sbcl/Pkgfile.html">sbcl/Pkgfile</a></b>
<a href="#h0" id="h0" class="h">@@ -2,10 +2,11 @@
</a> # URL:         http://www.sbcl.org/
 # Packager:    ix, arcetera@openmailbox.org
 # Depends on:
<a href="#h0-3" id="h0-3" class="i">+# Optional:    clisp
</a> 
 name=sbcl
 version=1.3.3
<a href="#h0-7" id="h0-7" class="d">-release=1
</a><a href="#h0-8" id="h0-8" class="i">+release=2
</a> source=(http://prdownloads.sourceforge.net/sbcl/sbcl-1.3.3-source.tar.bz2)
 
 build() {
<a href="#h1" id="h1" class="h">@@ -24,7 +25,11 @@ build() {
</a> 	(disable :largefile)))
 EOF
 
<a href="#h1-3" id="h1-3" class="d">-	sh make.sh --prefix=/usr
</a><a href="#h1-4" id="h1-4" class="i">+	if type -p sbcl 2&gt;/dev/null; then
</a><a href="#h1-5" id="h1-5" class="i">+		sh make.sh --prefix=/usr
</a><a href="#h1-6" id="h1-6" class="i">+	else
</a><a href="#h1-7" id="h1-7" class="i">+		sh make.sh clisp --prefix=/usr
</a><a href="#h1-8" id="h1-8" class="i">+	fi
</a> 
 	SBCL_HOME=&apos;&apos; INSTALL_ROOT=&quot;$PKG/usr&quot; sh install.sh
 }
<b>diff --git a/<a href="../file/sbcl/README.html">sbcl/README</a> b/<a href="../file/sbcl/README.html">sbcl/README</a></b>
<a href="#h0" id="h0" class="h">@@ -1,5 +0,0 @@
</a><a href="#h0-0" id="h0-0" class="d">-You probably need a Common Lisp implementation.
</a><a href="#h0-1" id="h0-1" class="d">-
</a><a href="#h0-2" id="h0-2" class="d">-clisp is available in opt/. I recommend installing sbcl first, then removing it post-compilation; sbcl can be installed with sbcl itself.
</a><a href="#h0-3" id="h0-3" class="d">-
</a><a href="#h0-4" id="h0-4" class="d">-You need to change &quot;sh make.sh&quot; to &quot;sh make.sh clisp&quot;.
</a></pre>
</div>
</body>
</html>
