<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Language" content="en" />
<title>removed mouse functions - windowchef - windowchef is a stacking window cooker controlled by a remote control program, waitron
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="windowchef.git Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>windowchef</h1><span class="desc">windowchef is a stacking window cooker controlled by a remote control program, waitron
</span></td></tr><tr class="url"><td></td><td>git clone <a href="git://thetudor.ddns.net/windowchef.git">git://thetudor.ddns.net/windowchef.git</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/6b89dbfd7a2cc668bbad99fff3b3239f6c385439.html">6b89dbfd7a2cc668bbad99fff3b3239f6c385439</a>
<b>parent</b> <a href="../commit/50273eae17b0c98f3e9a2560ec06b89a850f0b32.html">50273eae17b0c98f3e9a2560ec06b89a850f0b32</a>
<b>Author:</b> Tudor Roman &lt;<a href="mailto:tudurom@gmail.com">tudurom@gmail.com</a>&gt;
<b>Date:</b>   Wed Dec 21 15:26:32 +0200

removed mouse functions

<b>Diffstat:</b>
<table><tr><td><a href="#h0">README.md</a></td><td> | </td><td class="num">15</td><td><span class="i">+++++++++++++</span><span class="d">--</span></td></tr>
<tr><td><a href="#h1">client.c</a></td><td> | </td><td class="num">23</td><td><span class="i"></span><span class="d">-----------------------</span></td></tr>
<tr><td><a href="#h2">ipc.h</a></td><td> | </td><td class="num">3</td><td><span class="i"></span><span class="d">---</span></td></tr>
<tr><td><a href="#h3">man/waitron.1</a></td><td> | </td><td class="num">16</td><td><span class="i"></span><span class="d">----------------</span></td></tr>
<tr><td><a href="#h4">man/waitron.1.html</a></td><td> | </td><td class="num">4</td><td><span class="i"></span><span class="d">----</span></td></tr>
<tr><td><a href="#h5">man/waitron.1.md</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td><a href="#h6">man/windowchef.1</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td><a href="#h7">man/windowchef.1.html</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td><a href="#h8">man/windowchef.1.md</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td><a href="#h9">wm.c</a></td><td> | </td><td class="num">121</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
</table>10 files changed, 18 insertions(+), 186 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/README.md.html">README.md</a> b/<a href="../file/README.md.html">README.md</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -93,8 +93,6 @@ Features
</a> 	* Activate/Deactivate/Toggle a group
 	* groups can be &quot;sticky&quot;: windows are assigned to the currently
 		selected group automatically
<a href="#h0-0-3" id="h0-0-3" class="d">-* Mouse mode that can be either active or inactive. While active, the window is
</a><a href="#h0-0-4" id="h0-0-4" class="d">-	moved/resized on click to the coordinates of the mouse pointer.
</a> * Simple and stylish solid-color border. Width can be configured
 * Gaps around the monitor and around the cells of the virtual grid(s).
 * Configuration script. Windowchef loads a given script at startup that can be
<a href="#h0-1" id="h0-1" class="h">@@ -136,6 +134,19 @@ grid and put my window in the cell at `x = 0`, `y = 2`:
</a> +-----------------------+
 ```
 
<a href="#h0-1-3" id="h0-1-3" class="i">+Using the mouse
</a><a href="#h0-1-4" id="h0-1-4" class="i">+---------------
</a><a href="#h0-1-5" id="h0-1-5" class="i">+
</a><a href="#h0-1-6" id="h0-1-6" class="i">+Windowchef doesn&apos;t offer any mouse moving/resizing features. You can emulate
</a><a href="#h0-1-7" id="h0-1-7" class="i">+that with `xmmv(1)` and `xmrs(1)` from wmutils&apos; `opt`.
</a><a href="#h0-1-8" id="h0-1-8" class="i">+
</a><a href="#h0-1-9" id="h0-1-9" class="i">+`.sxhkdrc`:
</a><a href="#h0-1-10" id="h0-1-10" class="i">+
</a><a href="#h0-1-11" id="h0-1-11" class="i">+```
</a><a href="#h0-1-12" id="h0-1-12" class="i">+super + {_,alt +} t
</a><a href="#h0-1-13" id="h0-1-13" class="i">+	{xmmv,xmrs}
</a><a href="#h0-1-14" id="h0-1-14" class="i">+```
</a><a href="#h0-1-15" id="h0-1-15" class="i">+
</a> Bars and panels
 ---------------
 
<b>diff --git a/<a id="h1" href="../file/client.c.html">client.c</a> b/<a href="../file/client.c.html">client.c</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -22,7 +22,6 @@ static bool fn_bool(uint32_t *, int, char **);
</a> static bool fn_config(uint32_t *, int, char **);
 static bool fn_hex(uint32_t *, int, char **);
 static bool fn_position(uint32_t *, int, char **);
<a href="#h1-0-3" id="h1-0-3" class="d">-static bool fn_mouse(uint32_t *, int, char **);
</a> static bool fn_gap(uint32_t *, int, char **);
 
 struct Command {
<a href="#h1-1" id="h1-1" class="h">@@ -62,9 +61,6 @@ static struct Command c[] = {
</a> 	{ &quot;group_deactivate&quot;          , IPCGroupDeactivate       ,  1 , fn_naturals } ,
 	{ &quot;group_toggle&quot;              , IPCGroupToggle           ,  1 , fn_naturals } ,
 	{ &quot;group_activate_specific&quot;   , IPCGroupActivateSpecific ,  1 , fn_naturals } ,
<a href="#h1-1-3" id="h1-1-3" class="d">-	{ &quot;mouse_start&quot;               , IPCMouseStart            ,  1 , fn_mouse    } ,
</a><a href="#h1-1-4" id="h1-1-4" class="d">-	{ &quot;mouse_stop&quot;                , IPCMouseStop             ,  0 , NULL        } ,
</a><a href="#h1-1-5" id="h1-1-5" class="d">-	{ &quot;mouse_toggle&quot;              , IPCMouseToggle           ,  1 , fn_mouse    } ,
</a> 	{ &quot;wm_quit&quot;                   , IPCWMQuit                ,  1 , fn_naturals } ,
 	{ &quot;wm_config&quot;                 , IPCWMConfig              , -1 , fn_config   },
 };
<a href="#h1-2" id="h1-2" class="h">@@ -216,25 +212,6 @@ fn_position(uint32_t *data, int argc, char **argv)
</a> }
 
 static bool
<a href="#h1-2-3" id="h1-2-3" class="d">-fn_mouse(uint32_t *data, int argc, char **argv)
</a><a href="#h1-2-4" id="h1-2-4" class="d">-{
</a><a href="#h1-2-5" id="h1-2-5" class="d">-	char *pos = argv[0];
</a><a href="#h1-2-6" id="h1-2-6" class="d">-	enum mouse_mode mode;
</a><a href="#h1-2-7" id="h1-2-7" class="d">-
</a><a href="#h1-2-8" id="h1-2-8" class="d">-	if (strcasecmp(pos, &quot;move&quot;) == 0)
</a><a href="#h1-2-9" id="h1-2-9" class="d">-		mode = MOUSE_MOVE;
</a><a href="#h1-2-10" id="h1-2-10" class="d">-	else if (strcasecmp(pos, &quot;resize&quot;) == 0)
</a><a href="#h1-2-11" id="h1-2-11" class="d">-		mode = MOUSE_RESIZE;
</a><a href="#h1-2-12" id="h1-2-12" class="d">-	else
</a><a href="#h1-2-13" id="h1-2-13" class="d">-		return false;
</a><a href="#h1-2-14" id="h1-2-14" class="d">-
</a><a href="#h1-2-15" id="h1-2-15" class="d">-	(void)(argc);
</a><a href="#h1-2-16" id="h1-2-16" class="d">-	data[0] = mode;
</a><a href="#h1-2-17" id="h1-2-17" class="d">-
</a><a href="#h1-2-18" id="h1-2-18" class="d">-	return true;
</a><a href="#h1-2-19" id="h1-2-19" class="d">-}
</a><a href="#h1-2-20" id="h1-2-20" class="d">-
</a><a href="#h1-2-21" id="h1-2-21" class="d">-static bool
</a> fn_gap(uint32_t *data, int argc, char **argv)
 {
 	(void)(argc);
<b>diff --git a/<a id="h2" href="../file/ipc.h.html">ipc.h</a> b/<a href="../file/ipc.h.html">ipc.h</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -31,9 +31,6 @@ enum IPCCommand {
</a> 	IPCGroupDeactivate,
 	IPCGroupToggle,
 	IPCGroupActivateSpecific,
<a href="#h2-0-3" id="h2-0-3" class="d">-	IPCMouseStart,
</a><a href="#h2-0-4" id="h2-0-4" class="d">-	IPCMouseStop,
</a><a href="#h2-0-5" id="h2-0-5" class="d">-	IPCMouseToggle,
</a> 	IPCWMQuit,
 	IPCWMConfig,
 	NR_IPC_COMMANDS
<b>diff --git a/<a id="h3" href="../file/man/waitron.1.html">man/waitron.1</a> b/<a href="../file/man/waitron.1.html">man/waitron.1</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -31,10 +31,6 @@ true values: \fBtrue\fR | \fBt\fR | \fByes\fR | \fBy\fR | \fB1\fR
</a> .IP
 false values: \fBfalse\fR | \fBf\fR | \fBno\fR | \fBn\fR | \fB0\fR
 .
<a href="#h3-0-3" id="h3-0-3" class="d">-.TP
</a><a href="#h3-0-4" id="h3-0-4" class="d">-\fBMOUSE\fR
</a><a href="#h3-0-5" id="h3-0-5" class="d">-move | resize
</a><a href="#h3-0-6" id="h3-0-6" class="d">-.
</a> .SH &quot;COMMANDS&quot;
 .
 .TP
<a href="#h3-1" id="h3-1" class="h">@@ -129,18 +125,6 @@ Toggle the \fIgroup_nr\fR group\.
</a> Activate group \fIgroup_nr\fR and deactivate the rest\.
 .
 .TP
<a href="#h3-1-3" id="h3-1-3" class="d">-\fBmouse_start\fR \fIMOUSE\fR
</a><a href="#h3-1-4" id="h3-1-4" class="d">-Start tracking the pointer to move/resize the mouse\.
</a><a href="#h3-1-5" id="h3-1-5" class="d">-.
</a><a href="#h3-1-6" id="h3-1-6" class="d">-.TP
</a><a href="#h3-1-7" id="h3-1-7" class="d">-\fBmouse_stop\fR
</a><a href="#h3-1-8" id="h3-1-8" class="d">-Stop tracking the pointer\.
</a><a href="#h3-1-9" id="h3-1-9" class="d">-.
</a><a href="#h3-1-10" id="h3-1-10" class="d">-.TP
</a><a href="#h3-1-11" id="h3-1-11" class="d">-\fBmouse_toggle\fR \fIMOUSE\fR
</a><a href="#h3-1-12" id="h3-1-12" class="d">-If already tracking, stop\. Else, track\.
</a><a href="#h3-1-13" id="h3-1-13" class="d">-.
</a><a href="#h3-1-14" id="h3-1-14" class="d">-.TP
</a> \fBwm_quit\fR \fIexit_status\fR
 Quit windowchef with exit_status \fIexit_status\fR\.
 .
<b>diff --git a/<a id="h4" href="../file/man/waitron.1.html.html">man/waitron.1.html</a> b/<a href="../file/man/waitron.1.html.html">man/waitron.1.html</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -99,7 +99,6 @@ anything on &lt;code&gt;stdout&lt;/code&gt;.&lt;/p&gt;
</a> &lt;dt class=&quot;flush&quot;&gt;&lt;code&gt;BOOL&lt;/code&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;  true values: &lt;code&gt;true&lt;/code&gt; | &lt;code&gt;t&lt;/code&gt; | &lt;code&gt;yes&lt;/code&gt; | &lt;code&gt;y&lt;/code&gt; | &lt;code&gt;1&lt;/code&gt;&lt;/p&gt;
 
 &lt;p&gt;  false values: &lt;code&gt;false&lt;/code&gt; | &lt;code&gt;f&lt;/code&gt; | &lt;code&gt;no&lt;/code&gt; | &lt;code&gt;n&lt;/code&gt; | &lt;code&gt;0&lt;/code&gt;&lt;/p&gt;&lt;/dd&gt;
<a href="#h4-0-3" id="h4-0-3" class="d">-&lt;dt class=&quot;flush&quot;&gt;&lt;code&gt;MOUSE&lt;/code&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;  move | resize&lt;/p&gt;&lt;/dd&gt;
</a> &lt;/dl&gt;
 
 
<a href="#h4-1" id="h4-1" class="h">@@ -143,9 +142,6 @@ anything on &lt;code&gt;stdout&lt;/code&gt;.&lt;/p&gt;
</a> &lt;dt&gt;&lt;code&gt;group_deactivate&lt;/code&gt; &lt;var&gt;group_nr&lt;/var&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;  Unmap all windows that belong to the &lt;var&gt;group_nr&lt;/var&gt; group.&lt;/p&gt;&lt;/dd&gt;
 &lt;dt&gt;&lt;code&gt;group_toggle&lt;/code&gt; &lt;var&gt;group_nr&lt;/var&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;  Toggle the &lt;var&gt;group_nr&lt;/var&gt; group.&lt;/p&gt;&lt;/dd&gt;
 &lt;dt&gt;&lt;code&gt;group_activate_specific&lt;/code&gt; &lt;var&gt;group_nr&lt;/var&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;  Activate group &lt;var&gt;group_nr&lt;/var&gt; and deactivate the rest.&lt;/p&gt;&lt;/dd&gt;
<a href="#h4-1-3" id="h4-1-3" class="d">-&lt;dt&gt;&lt;code&gt;mouse_start&lt;/code&gt; &lt;var&gt;MOUSE&lt;/var&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;  Start tracking the pointer to move/resize the mouse.&lt;/p&gt;&lt;/dd&gt;
</a><a href="#h4-1-4" id="h4-1-4" class="d">-&lt;dt&gt;&lt;code&gt;mouse_stop&lt;/code&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;  Stop tracking the pointer.&lt;/p&gt;&lt;/dd&gt;
</a><a href="#h4-1-5" id="h4-1-5" class="d">-&lt;dt&gt;&lt;code&gt;mouse_toggle&lt;/code&gt; &lt;var&gt;MOUSE&lt;/var&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;  If already tracking, stop. Else, track.&lt;/p&gt;&lt;/dd&gt;
</a> &lt;dt&gt;&lt;code&gt;wm_quit&lt;/code&gt; &lt;var&gt;exit_status&lt;/var&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;  Quit windowchef with exit_status &lt;var&gt;exit_status&lt;/var&gt;.&lt;/p&gt;&lt;/dd&gt;
 &lt;dt&gt;&lt;code&gt;wm_change_number_of_groups&lt;/code&gt; &lt;var&gt;number_of_groups&lt;/var&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;  Change the number of maximum groups to &lt;var&gt;number_of_groups&lt;/var&gt;.&lt;/p&gt;
 
<b>diff --git a/<a id="h5" href="../file/man/waitron.1.md.html">man/waitron.1.md</a> b/<a href="../file/man/waitron.1.md.html">man/waitron.1.md</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -26,9 +26,6 @@ anything on `stdout`.
</a> 
 	false values: `false` | `f` | `no` | `n` | `0`
 
<a href="#h5-0-3" id="h5-0-3" class="d">-* `MOUSE`:
</a><a href="#h5-0-4" id="h5-0-4" class="d">-	move | resize
</a><a href="#h5-0-5" id="h5-0-5" class="d">-
</a> ## COMMANDS
 
 * `window_move` &lt;x&gt; &lt;y&gt;:
<a href="#h5-1" id="h5-1" class="h">@@ -112,15 +109,6 @@ anything on `stdout`.
</a> * `group_activate_specific` &lt;group_nr&gt;:
 	Activate group &lt;group_nr&gt; and deactivate the rest.
 
<a href="#h5-1-3" id="h5-1-3" class="d">-* `mouse_start` &lt;MOUSE&gt;:
</a><a href="#h5-1-4" id="h5-1-4" class="d">-	Start tracking the pointer to move/resize the mouse.
</a><a href="#h5-1-5" id="h5-1-5" class="d">-
</a><a href="#h5-1-6" id="h5-1-6" class="d">-* `mouse_stop`:
</a><a href="#h5-1-7" id="h5-1-7" class="d">-	Stop tracking the pointer.
</a><a href="#h5-1-8" id="h5-1-8" class="d">-
</a><a href="#h5-1-9" id="h5-1-9" class="d">-* `mouse_toggle` &lt;MOUSE&gt;:
</a><a href="#h5-1-10" id="h5-1-10" class="d">-	If already tracking, stop. Else, track.
</a><a href="#h5-1-11" id="h5-1-11" class="d">-
</a> * `wm_quit` &lt;exit_status&gt;:
 	Quit windowchef with exit_status &lt;exit_status&gt;.
 
<b>diff --git a/<a id="h6" href="../file/man/windowchef.1.html">man/windowchef.1</a> b/<a href="../file/man/windowchef.1.html">man/windowchef.1</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -1,7 +1,7 @@
</a> .\&quot; generated with Ronn/v0.7.3
 .\&quot; http://github.com/rtomayko/ronn/tree/0.7.3
 .
<a href="#h6-0-3" id="h6-0-3" class="d">-.TH &quot;WINDOWCHEF&quot; &quot;1&quot; &quot;October 2016&quot; &quot;&quot; &quot;Windowchef Manual&quot;
</a><a href="#h6-0-4" id="h6-0-4" class="i">+.TH &quot;WINDOWCHEF&quot; &quot;1&quot; &quot;December 2016&quot; &quot;&quot; &quot;Windowchef Manual&quot;
</a> .
 .SH &quot;NAME&quot;
 \fBwindowchef\fR \- A stacking window cooker
<a href="#h6-1" id="h6-1" class="h">@@ -26,7 +26,7 @@ Print usage and version information\.
</a> Load script from \fIconfig_path\fR instead of \fB$XDG_CONFIG_HOME/windowchef/windowchefrc\fR\.
 .
 .SH &quot;SEE ALSO&quot;
<a href="#h6-1-3" id="h6-1-3" class="d">-waitron(1), sxhkd(1), xinit(1)
</a><a href="#h6-1-4" id="h6-1-4" class="i">+waitron(1), sxhkd(1), xinit(1), xmmv(1), xmrs(1)
</a> .
 .SH &quot;AUTHOR&quot;
 Tudor Roman \fB&lt;tudurom at gmail dot com&gt;\fR
<b>diff --git a/<a id="h7" href="../file/man/windowchef.1.html.html">man/windowchef.1.html</a> b/<a href="../file/man/windowchef.1.html.html">man/windowchef.1.html</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -98,7 +98,7 @@ overridden with the &lt;code&gt;-c&lt;/code&gt; flag.&lt;/p&gt;
</a> 
 &lt;h2 id=&quot;SEE-ALSO&quot;&gt;SEE ALSO&lt;/h2&gt;
 
<a href="#h7-0-3" id="h7-0-3" class="d">-&lt;p&gt;&lt;span class=&quot;man-ref&quot;&gt;waitron&lt;span class=&quot;s&quot;&gt;(1)&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;man-ref&quot;&gt;sxhkd&lt;span class=&quot;s&quot;&gt;(1)&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;man-ref&quot;&gt;xinit&lt;span class=&quot;s&quot;&gt;(1)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
</a><a href="#h7-0-4" id="h7-0-4" class="i">+&lt;p&gt;&lt;span class=&quot;man-ref&quot;&gt;waitron&lt;span class=&quot;s&quot;&gt;(1)&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;man-ref&quot;&gt;sxhkd&lt;span class=&quot;s&quot;&gt;(1)&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;man-ref&quot;&gt;xinit&lt;span class=&quot;s&quot;&gt;(1)&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;man-ref&quot;&gt;xmmv&lt;span class=&quot;s&quot;&gt;(1)&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;man-ref&quot;&gt;xmrs&lt;span class=&quot;s&quot;&gt;(1)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
</a> 
 &lt;h2 id=&quot;AUTHOR&quot;&gt;AUTHOR&lt;/h2&gt;
 
<a href="#h7-1" id="h7-1" class="h">@@ -114,7 +114,7 @@ page.&lt;/p&gt;
</a> 
   &lt;ol class=&apos;man-decor man-foot man foot&apos;&gt;
     &lt;li class=&apos;tl&apos;&gt;&lt;/li&gt;
<a href="#h7-1-3" id="h7-1-3" class="d">-    &lt;li class=&apos;tc&apos;&gt;October 2016&lt;/li&gt;
</a><a href="#h7-1-4" id="h7-1-4" class="i">+    &lt;li class=&apos;tc&apos;&gt;December 2016&lt;/li&gt;
</a>     &lt;li class=&apos;tr&apos;&gt;windowchef(1)&lt;/li&gt;
   &lt;/ol&gt;
 
<b>diff --git a/<a id="h8" href="../file/man/windowchef.1.md.html">man/windowchef.1.md</a> b/<a href="../file/man/windowchef.1.md.html">man/windowchef.1.md</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -26,7 +26,7 @@ overridden with the `-c` flag.
</a> 
 ## SEE ALSO
 
<a href="#h8-0-3" id="h8-0-3" class="d">-waitron(1), sxhkd(1), xinit(1)
</a><a href="#h8-0-4" id="h8-0-4" class="i">+waitron(1), sxhkd(1), xinit(1), xmmv(1), xmrs(1)
</a> 
 ## AUTHOR
 
<b>diff --git a/<a id="h9" href="../file/wm.c.html">wm.c</a> b/<a href="../file/wm.c.html">wm.c</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -42,9 +42,7 @@ static bool halt;
</a> static int  exit_code;
 static bool *group_in_use = NULL;
 static int  last_group = 0;
<a href="#h9-0-3" id="h9-0-3" class="d">-static enum mouse_mode current_mouse_mode = MOUSE_NONE;
</a> static struct client * hovered_client = NULL;
<a href="#h9-0-5" id="h9-0-5" class="d">-static bool hovering_mouse = false;
</a> /* list of all windows. NULL is the empty list */
 static struct list_item *win_list   = NULL;
 static struct list_item *mon_list   = NULL;
<a href="#h9-1" id="h9-1" class="h">@@ -111,9 +109,6 @@ static void group_deactivate(uint32_t);
</a> static void group_toggle(uint32_t);
 static void group_activate_specific(uint32_t);
 static void change_nr_of_groups(uint32_t);
<a href="#h9-1-3" id="h9-1-3" class="d">-static void mouse_start(enum mouse_mode);
</a><a href="#h9-1-4" id="h9-1-4" class="d">-static void mouse_stop(void);
</a><a href="#h9-1-5" id="h9-1-5" class="d">-static void mouse_toggle(enum mouse_mode);
</a> static void refresh_borders(void);
 static void update_ewmh_wm_state(struct client *);
 static void handle_wm_state(struct client *, xcb_atom_t, unsigned int);
<a href="#h9-2" id="h9-2" class="h">@@ -128,7 +123,6 @@ static void event_configure_notify(xcb_generic_event_t *);
</a> static void event_circulate_request(xcb_generic_event_t *);
 static void event_client_message(xcb_generic_event_t *);
 static void event_focus_out(xcb_generic_event_t *);
<a href="#h9-2-3" id="h9-2-3" class="d">-static void event_motion_notify(xcb_generic_event_t *);
</a> static void register_ipc_handlers(void);
 static void ipc_window_move(uint32_t *);
 static void ipc_window_move_absolute(uint32_t *);
<a href="#h9-3" id="h9-3" class="h">@@ -153,9 +147,6 @@ static void ipc_group_activate(uint32_t *);
</a> static void ipc_group_deactivate(uint32_t *);
 static void ipc_group_toggle(uint32_t *);
 static void ipc_group_activate_specific(uint32_t *);
<a href="#h9-3-3" id="h9-3-3" class="d">-static void ipc_mouse_start(uint32_t *);
</a><a href="#h9-3-4" id="h9-3-4" class="d">-static void ipc_mouse_stop(uint32_t *);
</a><a href="#h9-3-5" id="h9-3-5" class="d">-static void ipc_mouse_toggle(uint32_t *);
</a> static void ipc_wm_quit(uint32_t *);
 static void ipc_wm_config(uint32_t *);
 
<a href="#h9-4" id="h9-4" class="h">@@ -1515,43 +1506,6 @@ change_nr_of_groups(uint32_t groups)
</a> }
 
 static void
<a href="#h9-4-3" id="h9-4-3" class="d">-mouse_start(enum mouse_mode mode)
</a><a href="#h9-4-4" id="h9-4-4" class="d">-{
</a><a href="#h9-4-5" id="h9-4-5" class="d">-	hovering_mouse = true;
</a><a href="#h9-4-6" id="h9-4-6" class="d">-	xcb_query_pointer_reply_t *ptr;
</a><a href="#h9-4-7" id="h9-4-7" class="d">-	ptr = xcb_query_pointer_reply(conn,
</a><a href="#h9-4-8" id="h9-4-8" class="d">-			xcb_query_pointer(conn, scr-&gt;root), NULL);
</a><a href="#h9-4-9" id="h9-4-9" class="d">-	hovered_client = find_client(&amp;ptr-&gt;child);
</a><a href="#h9-4-10" id="h9-4-10" class="d">-	if (hovered_client != NULL &amp;&amp; ptr != NULL) {
</a><a href="#h9-4-11" id="h9-4-11" class="d">-		current_mouse_mode = mode;
</a><a href="#h9-4-12" id="h9-4-12" class="d">-		xcb_grab_pointer(conn, false, scr-&gt;root,
</a><a href="#h9-4-13" id="h9-4-13" class="d">-				XCB_EVENT_MASK_BUTTON_RELEASE
</a><a href="#h9-4-14" id="h9-4-14" class="d">-				| XCB_EVENT_MASK_BUTTON_MOTION
</a><a href="#h9-4-15" id="h9-4-15" class="d">-				| XCB_EVENT_MASK_POINTER_MOTION_HINT,
</a><a href="#h9-4-16" id="h9-4-16" class="d">-				XCB_GRAB_MODE_ASYNC, XCB_GRAB_MODE_ASYNC,
</a><a href="#h9-4-17" id="h9-4-17" class="d">-				XCB_NONE, XCB_NONE, XCB_CURRENT_TIME);
</a><a href="#h9-4-18" id="h9-4-18" class="d">-	}
</a><a href="#h9-4-19" id="h9-4-19" class="d">-}
</a><a href="#h9-4-20" id="h9-4-20" class="d">-
</a><a href="#h9-4-21" id="h9-4-21" class="d">-static void
</a><a href="#h9-4-22" id="h9-4-22" class="d">-mouse_stop(void)
</a><a href="#h9-4-23" id="h9-4-23" class="d">-{
</a><a href="#h9-4-24" id="h9-4-24" class="d">-	hovering_mouse = false;
</a><a href="#h9-4-25" id="h9-4-25" class="d">-	current_mouse_mode = MOUSE_NONE;
</a><a href="#h9-4-26" id="h9-4-26" class="d">-	xcb_ungrab_pointer(conn, XCB_CURRENT_TIME);
</a><a href="#h9-4-27" id="h9-4-27" class="d">-	hovered_client = NULL;
</a><a href="#h9-4-28" id="h9-4-28" class="d">-}
</a><a href="#h9-4-29" id="h9-4-29" class="d">-
</a><a href="#h9-4-30" id="h9-4-30" class="d">-static void
</a><a href="#h9-4-31" id="h9-4-31" class="d">-mouse_toggle(enum mouse_mode mode)
</a><a href="#h9-4-32" id="h9-4-32" class="d">-{
</a><a href="#h9-4-33" id="h9-4-33" class="d">-	if (hovering_mouse)
</a><a href="#h9-4-34" id="h9-4-34" class="d">-		mouse_stop();
</a><a href="#h9-4-35" id="h9-4-35" class="d">-	else
</a><a href="#h9-4-36" id="h9-4-36" class="d">-		mouse_start(mode);
</a><a href="#h9-4-37" id="h9-4-37" class="d">-}
</a><a href="#h9-4-38" id="h9-4-38" class="d">-
</a><a href="#h9-4-39" id="h9-4-39" class="d">-static void
</a> refresh_borders(void)
 {
 	struct list_item *item;
<a href="#h9-5" id="h9-5" class="h">@@ -1661,7 +1615,6 @@ register_event_handlers(void)
</a> 	events[XCB_CONFIGURE_NOTIFY]  = event_configure_notify;
 	events[XCB_CIRCULATE_REQUEST] = event_circulate_request;
 	events[XCB_FOCUS_OUT]         = event_focus_out;
<a href="#h9-5-3" id="h9-5-3" class="d">-	events[XCB_MOTION_NOTIFY]     = event_motion_notify;
</a> }
 
 /*
<a href="#h9-6" id="h9-6" class="h">@@ -1984,58 +1937,6 @@ event_focus_out(xcb_generic_event_t *ev)
</a> 	}
 }
 
<a href="#h9-6-3" id="h9-6-3" class="d">-static void
</a><a href="#h9-6-4" id="h9-6-4" class="d">-event_motion_notify(xcb_generic_event_t *ev)
</a><a href="#h9-6-5" id="h9-6-5" class="d">-{
</a><a href="#h9-6-6" id="h9-6-6" class="d">-	int16_t to_x, to_y;
</a><a href="#h9-6-7" id="h9-6-7" class="d">-
</a><a href="#h9-6-8" id="h9-6-8" class="d">-	(void)(ev);
</a><a href="#h9-6-9" id="h9-6-9" class="d">-	xcb_query_pointer_reply_t *ptr;
</a><a href="#h9-6-10" id="h9-6-10" class="d">-	ptr = xcb_query_pointer_reply(conn,
</a><a href="#h9-6-11" id="h9-6-11" class="d">-			xcb_query_pointer(conn, scr-&gt;root), NULL);
</a><a href="#h9-6-12" id="h9-6-12" class="d">-
</a><a href="#h9-6-13" id="h9-6-13" class="d">-	if (hovered_client == NULL || hovered_client-&gt;maxed || ptr == NULL)
</a><a href="#h9-6-14" id="h9-6-14" class="d">-		return;
</a><a href="#h9-6-15" id="h9-6-15" class="d">-
</a><a href="#h9-6-16" id="h9-6-16" class="d">-	switch (current_mouse_mode) {
</a><a href="#h9-6-17" id="h9-6-17" class="d">-		case MOUSE_MOVE:
</a><a href="#h9-6-18" id="h9-6-18" class="d">-			if (ptr-&gt;root_x + hovered_client-&gt;geom.width / 2
</a><a href="#h9-6-19" id="h9-6-19" class="d">-					&gt; scr-&gt;width_in_pixels - 2 * conf.border_width)
</a><a href="#h9-6-20" id="h9-6-20" class="d">-				to_x = scr-&gt;width_in_pixels - hovered_client-&gt;geom.width
</a><a href="#h9-6-21" id="h9-6-21" class="d">-					- 2 * conf.border_width;
</a><a href="#h9-6-22" id="h9-6-22" class="d">-			else
</a><a href="#h9-6-23" id="h9-6-23" class="d">-				to_x = ptr-&gt;root_x - hovered_client-&gt;geom.width / 2;
</a><a href="#h9-6-24" id="h9-6-24" class="d">-
</a><a href="#h9-6-25" id="h9-6-25" class="d">-			if (ptr-&gt;root_y + hovered_client-&gt;geom.height / 2
</a><a href="#h9-6-26" id="h9-6-26" class="d">-					&gt; scr-&gt;height_in_pixels - 2 * conf.border_width)
</a><a href="#h9-6-27" id="h9-6-27" class="d">-				to_y = scr-&gt;height_in_pixels - hovered_client-&gt;geom.height
</a><a href="#h9-6-28" id="h9-6-28" class="d">-					- 2 * conf.border_width;
</a><a href="#h9-6-29" id="h9-6-29" class="d">-			else
</a><a href="#h9-6-30" id="h9-6-30" class="d">-				to_y = ptr-&gt;root_y - hovered_client-&gt;geom.height / 2;
</a><a href="#h9-6-31" id="h9-6-31" class="d">-
</a><a href="#h9-6-32" id="h9-6-32" class="d">-			if (ptr-&gt;root_x &lt; hovered_client-&gt;geom.width / 2)
</a><a href="#h9-6-33" id="h9-6-33" class="d">-				to_x = 0;
</a><a href="#h9-6-34" id="h9-6-34" class="d">-			if (ptr-&gt;root_y &lt; hovered_client-&gt;geom.height / 2)
</a><a href="#h9-6-35" id="h9-6-35" class="d">-				to_y = 0;
</a><a href="#h9-6-36" id="h9-6-36" class="d">-
</a><a href="#h9-6-37" id="h9-6-37" class="d">-			teleport_window(hovered_client-&gt;window, to_x, to_y);
</a><a href="#h9-6-38" id="h9-6-38" class="d">-			hovered_client-&gt;geom.x = to_x;
</a><a href="#h9-6-39" id="h9-6-39" class="d">-			hovered_client-&gt;geom.y = to_y;
</a><a href="#h9-6-40" id="h9-6-40" class="d">-			break;
</a><a href="#h9-6-41" id="h9-6-41" class="d">-
</a><a href="#h9-6-42" id="h9-6-42" class="d">-		case MOUSE_RESIZE:
</a><a href="#h9-6-43" id="h9-6-43" class="d">-			resize_window_absolute(hovered_client-&gt;window,
</a><a href="#h9-6-44" id="h9-6-44" class="d">-					ptr-&gt;root_x - hovered_client-&gt;geom.x,
</a><a href="#h9-6-45" id="h9-6-45" class="d">-					ptr-&gt;root_y - hovered_client-&gt;geom.y);
</a><a href="#h9-6-46" id="h9-6-46" class="d">-			hovered_client-&gt;geom.width =
</a><a href="#h9-6-47" id="h9-6-47" class="d">-				ptr-&gt;root_x - hovered_client-&gt;geom.x;
</a><a href="#h9-6-48" id="h9-6-48" class="d">-			hovered_client-&gt;geom.height =
</a><a href="#h9-6-49" id="h9-6-49" class="d">-				ptr-&gt;root_y - hovered_client-&gt;geom.y;
</a><a href="#h9-6-50" id="h9-6-50" class="d">-		default:
</a><a href="#h9-6-51" id="h9-6-51" class="d">-			break;
</a><a href="#h9-6-52" id="h9-6-52" class="d">-	}
</a><a href="#h9-6-53" id="h9-6-53" class="d">-}
</a><a href="#h9-6-54" id="h9-6-54" class="d">-
</a> /*
  * Populates array with functions for handling IPC commands.
  */
<a href="#h9-7" id="h9-7" class="h">@@ -2065,9 +1966,6 @@ register_ipc_handlers(void)
</a> 	ipc_handlers[IPCGroupDeactivate]       = ipc_group_deactivate;
 	ipc_handlers[IPCGroupToggle]           = ipc_group_toggle;
 	ipc_handlers[IPCGroupActivateSpecific] = ipc_group_activate_specific;
<a href="#h9-7-3" id="h9-7-3" class="d">-	ipc_handlers[IPCMouseStart]            = ipc_mouse_start;
</a><a href="#h9-7-4" id="h9-7-4" class="d">-	ipc_handlers[IPCMouseStop]             = ipc_mouse_stop;
</a><a href="#h9-7-5" id="h9-7-5" class="d">-	ipc_handlers[IPCMouseToggle]           = ipc_mouse_toggle;
</a> 	ipc_handlers[IPCWMQuit]                = ipc_wm_quit;
 	ipc_handlers[IPCWMConfig]              = ipc_wm_config;
 }
<a href="#h9-8" id="h9-8" class="h">@@ -2486,25 +2384,6 @@ ipc_group_activate_specific(uint32_t *d)
</a> }
 
 static void
<a href="#h9-8-3" id="h9-8-3" class="d">-ipc_mouse_start(uint32_t *d)
</a><a href="#h9-8-4" id="h9-8-4" class="d">-{
</a><a href="#h9-8-5" id="h9-8-5" class="d">-	mouse_start(d[0]);
</a><a href="#h9-8-6" id="h9-8-6" class="d">-}
</a><a href="#h9-8-7" id="h9-8-7" class="d">-
</a><a href="#h9-8-8" id="h9-8-8" class="d">-static void
</a><a href="#h9-8-9" id="h9-8-9" class="d">-ipc_mouse_stop(uint32_t *d)
</a><a href="#h9-8-10" id="h9-8-10" class="d">-{
</a><a href="#h9-8-11" id="h9-8-11" class="d">-	(void)(d);
</a><a href="#h9-8-12" id="h9-8-12" class="d">-	mouse_stop();
</a><a href="#h9-8-13" id="h9-8-13" class="d">-}
</a><a href="#h9-8-14" id="h9-8-14" class="d">-
</a><a href="#h9-8-15" id="h9-8-15" class="d">-static void
</a><a href="#h9-8-16" id="h9-8-16" class="d">-ipc_mouse_toggle(uint32_t *d)
</a><a href="#h9-8-17" id="h9-8-17" class="d">-{
</a><a href="#h9-8-18" id="h9-8-18" class="d">-	mouse_toggle(d[0]);
</a><a href="#h9-8-19" id="h9-8-19" class="d">-}
</a><a href="#h9-8-20" id="h9-8-20" class="d">-
</a><a href="#h9-8-21" id="h9-8-21" class="d">-static void
</a> ipc_wm_quit(uint32_t *d)
 {
 	uint32_t code = d[0];
</pre>
</div>
</body>
</html>
