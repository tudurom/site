<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Language" content="en" />
<title>Made the javascript work for older browsers - albumify - Unnamed repository; edit this file &apos;description&apos; to name the repository.
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="albumify.git Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>albumify</h1><span class="desc">Unnamed repository; edit this file &apos;description&apos; to name the repository.
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/f2ff25cbd09b1b50d6d34c700758a412633f8523.html">f2ff25cbd09b1b50d6d34c700758a412633f8523</a>
<b>parent</b> <a href="../commit/487fc3023f270879e62fb81a9c5ff40ecec24401.html">487fc3023f270879e62fb81a9c5ff40ecec24401</a>
<b>Author:</b> Tudor &lt;<a href="mailto:tudurom@gmail.com">tudurom@gmail.com</a>&gt;
<b>Date:</b>   Fri Feb 19 18:52:43 2016

Made the javascript work for older browsers

<b>Diffstat:</b>
 js/make.js | 14 +++++++-------
 js/view.js |  4 ++--
 2 files changed, 9 insertions(+), 9 deletions(-)
<hr/><b>diff --git a/<a href="../file/js/make.js.html">js/make.js</a> b/<a href="../file/js/make.js.html">js/make.js</a></b>
<a href="#h0" id="h0" class="h">@@ -4,17 +4,17 @@ function addFrame(n, defaultLink, defaultTitle) {
</a>   defaultLink = defaultLink || &quot;&quot;;
   defaultTitle = defaultTitle || &quot;&quot;;
   frames++;
<a href="#h0-3" id="h0-3" class="d">-  r = `&lt;div class=&quot;frame&quot; id=&quot;frame${n}&quot;&gt;`;
</a><a href="#h0-4" id="h0-4" class="d">-  r +=  `&lt;h3 class=&quot;number&quot;&gt;Image ${n + 1}&lt;/h3&gt;`;
</a><a href="#h0-5" id="h0-5" class="i">+  r = &apos;&lt;div class=&quot;frame&quot; id=&quot;frame&apos; + n + &apos;&quot;&gt;&apos;;
</a><a href="#h0-6" id="h0-6" class="i">+  r +=  &apos;&lt;h3 class=&quot;number&quot;&gt;Image &apos; + (n + 1) + &apos;&lt;/h3&gt;&apos;;
</a>   r +=  &apos;&lt;p class=&quot;label&quot;&gt;Image Title&lt;/p&gt;&apos;;
<a href="#h0-8" id="h0-8" class="d">-  r +=  `&lt;input type=&quot;text&quot; id=&quot;titleInput&quot; placeholder=&quot;A day at the beach&quot; value=&quot;${defaultTitle}&quot;/&gt;`;
</a><a href="#h0-9" id="h0-9" class="i">+  r +=  &apos;&lt;input type=&quot;text&quot; id=&quot;titleInput&quot; placeholder=&quot;A day at the beach&quot; value=&quot;&apos; + defaultTitle + &apos;&quot;/&gt;&apos;;
</a>   r +=  &apos;&lt;p class=&quot;label&quot;&gt;Image Link&lt;/p&gt;&apos;;
<a href="#h0-11" id="h0-11" class="d">-  r +=  `&lt;input type=&quot;text&quot; id=&quot;linkInput&quot; placeholder=&quot;https://...&quot; value=&quot;${defaultLink}&quot; /&gt;`;
</a><a href="#h0-12" id="h0-12" class="i">+  r +=  &apos;&lt;input type=&quot;text&quot; id=&quot;linkInput&quot; placeholder=&quot;https://...&quot; value=&quot;&apos; + defaultLink + &apos;&quot; /&gt;&apos;;
</a>   r +=  &apos;&lt;button id=&quot;deleteFrame&quot;&gt;Delete image&lt;/button&gt;&apos;;
   r += &apos;&lt;/div&gt;&apos;;
   $(&apos;.container&apos;).append(r);
   updateNumbers();
<a href="#h0-17" id="h0-17" class="d">-  $(`#frame${n} #deleteFrame`).on(&apos;click&apos;, function () {
</a><a href="#h0-18" id="h0-18" class="i">+  $(&apos;#frame&apos; + n + &apos;#deleteFrame&apos;).on(&apos;click&apos;, function () {
</a>     $(this.parentNode).remove();
     updateNumbers();
   });
<a href="#h1" id="h1" class="h">@@ -23,7 +23,7 @@ function addFrame(n, defaultLink, defaultTitle) {
</a> function updateNumbers() {
   $(&apos;.number&apos;).each(function (i, el) {
     if (i &gt; 0) { // Skip over the &quot;Album&quot; text
<a href="#h1-3" id="h1-3" class="d">-      el.innerHTML = `Image ${i}`;
</a><a href="#h1-4" id="h1-4" class="i">+      el.innerHTML = &apos;Image &apos; + i;
</a>     }
   });
 }
<a href="#h2" id="h2" class="h">@@ -75,7 +75,7 @@ $(document).ready(function () {
</a>   $(&apos;form&apos;).on(&apos;submit&apos;, function (e) {
     e.preventDefault();
     console.debug(btoa(regen()));
<a href="#h2-3" id="h2-3" class="d">-    $(&apos;.link&apos;).html(`&lt;a href=&quot;view.html#${btoa(regen())}&quot;&gt;${window.location.href}view.html#${btoa(regen())}&lt;/a&gt;`);
</a><a href="#h2-4" id="h2-4" class="i">+    $(&apos;.link&apos;).html(&apos;&lt;a href=&quot;view.html#&apos; + btoa(regen()) + &apos;&quot;&gt;&apos; + window.location.href + &apos;view.html#&apos; + btoa(regen()) + &apos;&lt;/a&gt;&apos;);
</a>   });
   $(window).on(&apos;hashchange&apos;, updateFromHash);
   if (location.hash.slice(1) !== &quot;&quot;) {
<b>diff --git a/<a href="../file/js/view.js.html">js/view.js</a> b/<a href="../file/js/view.js.html">js/view.js</a></b>
<a href="#h0" id="h0" class="h">@@ -15,8 +15,8 @@ function reload() {
</a>   var r = &quot;&quot;;
   album.forEach(function (el, i) {
     r += &apos;&lt;div class=&quot;pic&quot;&gt;&apos;;
<a href="#h0-3" id="h0-3" class="d">-      r += `&lt;h3 class=&quot;title&quot;&gt;${el.title}&lt;/h3&gt;`;
</a><a href="#h0-4" id="h0-4" class="d">-      r += `&lt;a href=&quot;${el.picSrc}&quot;&gt;&lt;img src=&quot;${el.picSrc}&quot; /&gt;&lt;/a&gt;`;
</a><a href="#h0-5" id="h0-5" class="i">+      r += &apos;&lt;h3 class=&quot;title&quot;&gt;&apos; + el.title + &apos;&lt;/h3&gt;&apos;;
</a><a href="#h0-6" id="h0-6" class="i">+      r += &apos;&lt;a href=&quot;&apos; + el.picSrc + &apos;&quot;&gt;&lt;img src=&quot;&apos; + el.picSrc + &apos;&quot; /&gt;&lt;/a&gt;&apos;;
</a>     r += &apos;&lt;/div&gt;&apos;;
   });
   $(&apos;.container&apos;).html(r);
</pre>
</div>
</body>
</html>
